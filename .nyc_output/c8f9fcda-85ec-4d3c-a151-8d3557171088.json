{"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\dao\\categoryDAO.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\dao\\categoryDAO.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":25},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":14},"end":{"line":7,"column":59}},"5":{"start":{"line":8,"column":22},"end":{"line":8,"column":70}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":40}},"7":{"start":{"line":14,"column":28},"end":{"line":14,"column":158}},"8":{"start":{"line":15,"column":8},"end":{"line":15,"column":62}},"9":{"start":{"line":18,"column":0},"end":{"line":18,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":18},"end":{"line":12,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":29},"end":{"line":16,"column":5}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":3,"7":1,"8":1,"9":1},"f":{"0":3,"1":3,"2":1},"b":{"0":[1,1,1],"1":[3,0],"2":[3,3]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/dao/categoryDAO.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/dao/categoryDAO.ts"],"names":[],"mappings":";;;;;AAAA,oFAAsD;AACtD,4DAAoC;AACpC,uEAA+C;AAE/C,MAAqB,WAAY,SAAQ,aAAG;IAC1C;QACE,KAAK,CAAC,wBAAQ,CAAC,CAAC;IAClB,CAAC;IAEM,KAAK,CAAC,MAAM,CACjB,UAA+B;QAE/B,MAAM,WAAW,GAAG,IAAI,qBAAW,CACjC,UAAU,CAAC,KAAK,EAChB,CAAC,MAAM,CAAC,EACR,EAAE,EACF,UAAU,CAAC,MAAM,EACjB,UAAU,CAAC,MAAM,EACjB,UAAU,CAAC,IAAI,EACf,UAAU,CAAC,KAAK,CACjB,CAAC;QAEF,OAAO,WAAW,CAAC,QAAQ,CAAC,wBAAQ,CAAC,CAAC;IACxC,CAAC;CACF;AApBD,8BAoBC","sourcesContent":["import Category from \"../schemaModels/category.model\";\nimport Dao from \"../interfaces/dao\";\nimport QueryHelper from \"../utill/QueryHelper\";\n\nexport default class CategoryDAO extends Dao {\n  constructor() {\n    super(Category);\n  }\n\n  public async getAll(\n    filterData: Record<string, any>\n  ): Promise<Record<string, any>> {\n    const queryHelper = new QueryHelper(\n      filterData.query,\n      [\"name\"],\n      [],\n      filterData.sortBy,\n      filterData.filter,\n      filterData.page,\n      filterData.limit\n    );\n\n    return queryHelper.generate(Category);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a29e0a71c2807bd1bea11a18bb16b200eeb01971","contentHash":"90887aae5775ada717639e28a207d42d51b6b07b9c8553a8a52d6120697765e2"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\schemaModels\\category.model.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\schemaModels\\category.model.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":72}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":21}},"11":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"13":{"start":{"line":15,"column":31},"end":{"line":15,"column":42}},"14":{"start":{"line":16,"column":17},"end":{"line":16,"column":19}},"15":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"16":{"start":{"line":17,"column":21},"end":{"line":17,"column":141}},"17":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"18":{"start":{"line":17,"column":109},"end":{"line":17,"column":141}},"19":{"start":{"line":18,"column":4},"end":{"line":18,"column":36}},"20":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"21":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":62}},"23":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"24":{"start":{"line":25,"column":17},"end":{"line":25,"column":50}},"25":{"start":{"line":26,"column":17},"end":{"line":26,"column":60}},"26":{"start":{"line":27,"column":23},"end":{"line":38,"column":2}},"27":{"start":{"line":39,"column":0},"end":{"line":39,"column":78}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":80},"end":{"line":9,"column":81}},"loc":{"start":{"line":9,"column":95},"end":{"line":11,"column":1}},"line":9},"4":{"name":"(anonymous_4)","decl":{"start":{"line":11,"column":5},"end":{"line":11,"column":6}},"loc":{"start":{"line":11,"column":20},"end":{"line":13,"column":1}},"line":11},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":50},"end":{"line":14,"column":51}},"loc":{"start":{"line":14,"column":65},"end":{"line":20,"column":1}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":21,"column":56},"end":{"line":21,"column":57}},"loc":{"start":{"line":21,"column":71},"end":{"line":23,"column":1}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"type":"binary-expr","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":30}},{"start":{"line":9,"column":34},"end":{"line":9,"column":57}},{"start":{"line":9,"column":63},"end":{"line":13,"column":1}}],"line":9},"5":{"loc":{"start":{"line":9,"column":63},"end":{"line":13,"column":1}},"type":"cond-expr","locations":[{"start":{"line":9,"column":80},"end":{"line":11,"column":1}},{"start":{"line":11,"column":5},"end":{"line":13,"column":1}}],"line":9},"6":{"loc":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":20},"end":{"line":14,"column":24}},{"start":{"line":14,"column":28},"end":{"line":14,"column":45}},{"start":{"line":14,"column":50},"end":{"line":20,"column":1}}],"line":14},"7":{"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},{"start":{"line":15,"column":4},"end":{"line":15,"column":42}}],"line":15},"8":{"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":11}},{"start":{"line":15,"column":15},"end":{"line":15,"column":29}}],"line":15},"9":{"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},{"start":{"line":17,"column":4},"end":{"line":17,"column":141}}],"line":17},"10":{"loc":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},{"start":{"line":17,"column":40},"end":{"line":17,"column":141}}],"line":17},"11":{"loc":{"start":{"line":17,"column":44},"end":{"line":17,"column":107}},"type":"binary-expr","locations":[{"start":{"line":17,"column":44},"end":{"line":17,"column":59}},{"start":{"line":17,"column":63},"end":{"line":17,"column":107}}],"line":17},"12":{"loc":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"type":"binary-expr","locations":[{"start":{"line":21,"column":23},"end":{"line":21,"column":27}},{"start":{"line":21,"column":31},"end":{"line":21,"column":51}},{"start":{"line":21,"column":56},"end":{"line":23,"column":1}}],"line":21},"13":{"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":61}},"type":"cond-expr","locations":[{"start":{"line":22,"column":37},"end":{"line":22,"column":40}},{"start":{"line":22,"column":43},"end":{"line":22,"column":61}}],"line":22},"14":{"loc":{"start":{"line":22,"column":12},"end":{"line":22,"column":33}},"type":"binary-expr","locations":[{"start":{"line":22,"column":12},"end":{"line":22,"column":15}},{"start":{"line":22,"column":19},"end":{"line":22,"column":33}}],"line":22}},"s":{"0":1,"1":9,"2":9,"3":9,"4":2,"5":0,"6":0,"7":0,"8":1,"9":1,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":1,"17":51,"18":9,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1},"f":{"0":9,"1":2,"2":0,"3":1,"4":0,"5":1,"6":1},"b":{"0":[1,1,1],"1":[1,0],"2":[9,0],"3":[0,0],"4":[1,1,1],"5":[1,0],"6":[1,1,1],"7":[0,1],"8":[1,1],"9":[1,0],"10":[9,42],"11":[51,51],"12":[1,1,1],"13":[1,0],"14":[1,1]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/schemaModels/category.model.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/schemaModels/category.model.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,mDAAqC;AAErC,6DAAqC;AAKrC,MAAM,cAAc,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;IACzC,IAAI,EAAE;QACJ,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,IAAI;QACV,MAAM,EAAE,IAAI;KACb;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,OAAO;QACb,OAAO,EAAE,KAAK;QACd,KAAK,EAAE,IAAI;KACZ;CACF,CAAC,CAAC;AAEH,kBAAe,QAAQ,CAAC,KAAK,CAC3B,gBAAM,CAAC,UAAU,EACjB,cAAc,CACf,CAAC","sourcesContent":["import * as mongoose from \"mongoose\";\nimport { Document } from \"mongoose\";\nimport DBUtil from \"../utill/dBUtil\";\nimport CategoryModel from \"../models/categoryModel\";\n\nexport interface CategoryDocument extends CategoryModel, Document {}\n\nconst categorySchema = new mongoose.Schema({\n  name: {\n    type: String,\n    trim: true,\n    unique: true,\n  },\n  archived: {\n    type: Boolean,\n    default: false,\n    index: true,\n  },\n});\n\nexport default mongoose.model<CategoryDocument>(\n  DBUtil.CATEGORIES,\n  categorySchema\n);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"99492208986368d9df007c27d0e9f885419605ba","contentHash":"3c2b33a89eb0531ce9968be132b6d692df3db2b9c808318dc70557dbbcd04230"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\utill\\dBUtil.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\utill\\dBUtil.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":18},"end":{"line":4,"column":25}},"2":{"start":{"line":5,"column":23},"end":{"line":5,"column":35}},"3":{"start":{"line":6,"column":21},"end":{"line":6,"column":31}},"4":{"start":{"line":7,"column":24},"end":{"line":7,"column":36}},"5":{"start":{"line":8,"column":21},"end":{"line":8,"column":31}},"6":{"start":{"line":9,"column":18},"end":{"line":9,"column":25}},"7":{"start":{"line":10,"column":19},"end":{"line":10,"column":27}},"8":{"start":{"line":11,"column":19},"end":{"line":11,"column":27}},"9":{"start":{"line":12,"column":26},"end":{"line":12,"column":41}},"10":{"start":{"line":13,"column":29},"end":{"line":13,"column":47}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":25}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/utill/dBUtil.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/utill/dBUtil.ts"],"names":[],"mappings":";;AAAA,MAA8B,MAAM;IAClC,MAAM,CAAU,IAAI,GAAG,OAAO,CAAC;IAE/B,MAAM,CAAU,SAAS,GAAG,YAAY,CAAC;IAEzC,MAAM,CAAU,OAAO,GAAG,UAAU,CAAC;IAErC,MAAM,CAAU,UAAU,GAAG,YAAY,CAAC;IAE1C,MAAM,CAAU,OAAO,GAAG,UAAU,CAAC;IAErC,MAAM,CAAU,IAAI,GAAG,OAAO,CAAC;IAE/B,MAAM,CAAU,KAAK,GAAG,QAAQ,CAAC;IAEjC,MAAM,CAAU,KAAK,GAAG,QAAQ,CAAC;IAEjC,MAAM,CAAU,YAAY,GAAG,eAAe,CAAC;IAE/C,MAAM,CAAU,eAAe,GAAG,kBAAkB,CAAC;;AAnBvD,yBAoBC","sourcesContent":["export default abstract class DBUtil {\n  static readonly USER = \"users\";\n\n  static readonly WAREHOUSE = \"warehouses\";\n\n  static readonly PRODUCT = \"products\";\n\n  static readonly CATEGORIES = \"categories\";\n\n  static readonly VARIANT = \"variants\";\n\n  static readonly SHOP = \"shops\";\n\n  static readonly LEAVE = \"leaves\";\n\n  static readonly ORDER = \"orders\";\n\n  static readonly DAILYPRODUCT = \"dailyProducts\";\n\n  static readonly SALESPERSONSHOP = \"salespersonShops\";\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"89ecbaff7f20ed63451f17da850c5193a3d27c66","contentHash":"dc11ce6e70e4c06572ae0faf59ab1c45aca31aad0a0578947e1f8a3eb4abcf7e"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\interfaces\\dao.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\interfaces\\dao.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":64}},"4":{"start":{"line":9,"column":14},"end":{"line":9,"column":42}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":27}},"6":{"start":{"line":15,"column":8},"end":{"line":15,"column":43}},"7":{"start":{"line":18,"column":21},"end":{"line":21,"column":9}},"8":{"start":{"line":22,"column":8},"end":{"line":22,"column":69}},"9":{"start":{"line":25,"column":22},"end":{"line":25,"column":70}},"10":{"start":{"line":26,"column":8},"end":{"line":26,"column":77}},"11":{"start":{"line":29,"column":8},"end":{"line":36,"column":9}},"12":{"start":{"line":30,"column":26},"end":{"line":30,"column":50}},"13":{"start":{"line":31,"column":12},"end":{"line":31,"column":50}},"14":{"start":{"line":31,"column":31},"end":{"line":31,"column":48}},"15":{"start":{"line":32,"column":12},"end":{"line":32,"column":31}},"16":{"start":{"line":33,"column":24},"end":{"line":33,"column":42}},"17":{"start":{"line":34,"column":12},"end":{"line":34,"column":29}},"18":{"start":{"line":35,"column":12},"end":{"line":35,"column":23}},"19":{"start":{"line":37,"column":8},"end":{"line":37,"column":40}},"20":{"start":{"line":40,"column":21},"end":{"line":40,"column":54}},"21":{"start":{"line":41,"column":8},"end":{"line":41,"column":24}},"22":{"start":{"line":44,"column":8},"end":{"line":44,"column":60}},"23":{"start":{"line":47,"column":8},"end":{"line":47,"column":49}},"24":{"start":{"line":50,"column":0},"end":{"line":50,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":23},"end":{"line":12,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":20},"end":{"line":16,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":36},"end":{"line":23,"column":5}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":50},"end":{"line":27,"column":5}},"line":24},"5":{"name":"(anonymous_5)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":28},"end":{"line":38,"column":5}},"line":28},"6":{"name":"(anonymous_6)","decl":{"start":{"line":31,"column":24},"end":{"line":31,"column":25}},"loc":{"start":{"line":31,"column":31},"end":{"line":31,"column":48}},"line":31},"7":{"name":"(anonymous_7)","decl":{"start":{"line":39,"column":4},"end":{"line":39,"column":5}},"loc":{"start":{"line":39,"column":27},"end":{"line":42,"column":5}},"line":39},"8":{"name":"(anonymous_8)","decl":{"start":{"line":43,"column":4},"end":{"line":43,"column":5}},"loc":{"start":{"line":43,"column":42},"end":{"line":45,"column":5}},"line":43},"9":{"name":"(anonymous_9)","decl":{"start":{"line":46,"column":4},"end":{"line":46,"column":5}},"loc":{"start":{"line":46,"column":22},"end":{"line":48,"column":5}},"line":46}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":26,"column":15},"end":{"line":26,"column":76}},"type":"cond-expr","locations":[{"start":{"line":26,"column":27},"end":{"line":26,"column":60}},{"start":{"line":26,"column":63},"end":{"line":26,"column":76}}],"line":26},"4":{"loc":{"start":{"line":29,"column":8},"end":{"line":36,"column":9}},"type":"if","locations":[{"start":{"line":29,"column":8},"end":{"line":36,"column":9}},{"start":{"line":29,"column":8},"end":{"line":36,"column":9}}],"line":29}},"s":{"0":1,"1":1,"2":1,"3":1,"4":17,"5":17,"6":24,"7":2,"8":2,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":2,"23":24,"24":1},"f":{"0":1,"1":17,"2":24,"3":2,"4":0,"5":1,"6":0,"7":0,"8":2,"9":24},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[0,0],"4":[0,1]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/interfaces/dao.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/interfaces/dao.ts"],"names":[],"mappings":";;;;;AACA,iEAA6C;AAG7C,MAA8B,GAAG;IAGC;IAFtB,OAAO,GAAG,kBAAY,CAAC,OAAO,EAAE,CAAC;IAE3C,YAAgC,KAAiB;QAAjB,UAAK,GAAL,KAAK,CAAY;IAAG,CAAC;IAErD,KAAK,CAAC,GAAG,CAAC,IAAS;QACjB,mCAAmC;QACnC,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC;IACrC,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,YAAiB,EAAE,GAAW;QACzC,MAAM,IAAI,GAAG;YACX,aAAa,EAAE,IAAI;YACnB,gBAAgB,EAAE,IAAI;SACvB,CAAC;QACF,OAAO,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,GAAG,EAAE,YAAY,EAAE,IAAI,CAAC,CAAC;IAC/D,CAAC;IAED,KAAK,CAAC,IAAI,CACR,MAAc,EACd,IAAY,EACZ,IAAY,EACZ,KAAa,EACb,MAA+B;QAE/B,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;QAE/D,OAAO,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACvE,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,GAAW,EAAE,GAAc;QACvC,IAAI,GAAG,EAAE;YACP,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACvC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;YACtC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,MAAM,GAAG,GAAG,MAAM,KAAK,CAAC,IAAI,EAAE,CAAC;YAC/B,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,OAAO,GAAG,CAAC;SACZ;QACD,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;IAClC,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,GAAW;QAC3B,MAAM,IAAI,GAAiB,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;QAC7D,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC;IAED,KAAK,CAAC,qBAAqB,CAAC,QAAgB;QAC1C,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,QAAQ,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;IACtD,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,GAAW;QACtB,OAAO,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;IAC3C,CAAC;CACF;AAtDD,sBAsDC","sourcesContent":["import { Model } from \"mongoose\";\nimport DBConnection from \"../utill/database\";\nimport { UserDocument } from \"../schemaModels/user.model\";\n\nexport default abstract class Dao {\n  protected mongoDB = DBConnection.connect();\n\n  protected constructor(protected model: Model<any>) {}\n\n  async add(item: any): Promise<any> {\n    // eslint-disable-next-line new-cap\n    return new this.model(item).save();\n  }\n\n  async update(updateParams: any, ref: string): Promise<any> {\n    const opts = {\n      runValidators: true,\n      useFindAndModify: true,\n    };\n    return this.model.findByIdAndUpdate(ref, updateParams, opts);\n  }\n\n  async find(\n    sortBy: string,\n    desc: number,\n    skip: number,\n    limit: number,\n    filter: Record<string, unknown>\n  ): Promise<any[]> {\n    const items = this.model.find(filter).sort({ [sortBy]: desc });\n\n    return limit > 0 ? items.skip(skip - 1).limit(limit) : items.skip(0);\n  }\n\n  async findOne(ref: string, pop?: string[]): Promise<any> {\n    if (pop) {\n      const query = this.model.findById(ref);\n      pop.forEach((p) => query.populate(p));\n      console.log(query);\n      const res = await query.exec();\n      console.log(res);\n      return res;\n    }\n    return this.model.findById(ref);\n  }\n\n  async findIdByuid(uid: string): Promise<string> {\n    const user: UserDocument = await this.model.findOne({ uid });\n    return user._id;\n  }\n\n  async getDocumentByObjectId(objectId: string): Promise<any> {\n    return this.model.findOne({ _id: objectId }).lean();\n  }\n\n  async delete(ref: string): Promise<any> {\n    return this.model.findByIdAndDelete(ref);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6577413ccdc878f041c86f84d4ea7a12229185dd","contentHash":"565bc592c0d0ab3af6e62ad4c41811868873f2a521812650d0bba8897611f1a1"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\utill\\database.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\utill\\database.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":25},"end":{"line":7,"column":77}},"5":{"start":{"line":10,"column":17},"end":{"line":10,"column":71}},"6":{"start":{"line":12,"column":8},"end":{"line":13,"column":27}},"7":{"start":{"line":13,"column":12},"end":{"line":13,"column":27}},"8":{"start":{"line":14,"column":8},"end":{"line":19,"column":11}},"9":{"start":{"line":20,"column":8},"end":{"line":20,"column":38}},"10":{"start":{"line":21,"column":8},"end":{"line":23,"column":11}},"11":{"start":{"line":22,"column":12},"end":{"line":22,"column":49}},"12":{"start":{"line":24,"column":8},"end":{"line":26,"column":11}},"13":{"start":{"line":25,"column":12},"end":{"line":25,"column":56}},"14":{"start":{"line":27,"column":8},"end":{"line":27,"column":23}},"15":{"start":{"line":30,"column":8},"end":{"line":32,"column":9}},"16":{"start":{"line":31,"column":12},"end":{"line":31,"column":19}},"17":{"start":{"line":33,"column":8},"end":{"line":33,"column":36}},"18":{"start":{"line":36,"column":0},"end":{"line":36,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":27},"end":{"line":28,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":21,"column":29},"end":{"line":21,"column":30}},"loc":{"start":{"line":21,"column":41},"end":{"line":23,"column":9}},"line":21},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":28},"end":{"line":24,"column":29}},"loc":{"start":{"line":24,"column":34},"end":{"line":26,"column":9}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":30},"end":{"line":34,"column":5}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":12,"column":8},"end":{"line":13,"column":27}},"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":13,"column":27}},{"start":{"line":12,"column":8},"end":{"line":13,"column":27}}],"line":12},"4":{"loc":{"start":{"line":30,"column":8},"end":{"line":32,"column":9}},"type":"if","locations":[{"start":{"line":30,"column":8},"end":{"line":32,"column":9}},{"start":{"line":30,"column":8},"end":{"line":32,"column":9}}],"line":30}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":17,"7":0,"8":17,"9":17,"10":17,"11":0,"12":17,"13":0,"14":17,"15":0,"16":0,"17":0,"18":1},"f":{"0":1,"1":17,"2":0,"3":0,"4":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[0,17],"4":[0,0]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/utill/database.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/utill/database.ts"],"names":[],"mappings":";;;;;AAAA,qCAAsC;AACtC,8EAA8C;AAE9C,MAAqB,YAAY;IACvB,MAAM,CAAC,EAAE,CAAsB;IAE/B,MAAM,CAAC,GAAG,GAAG,wBAAM,CAAC,WAAW,CAAC,iBAAiB,CAAC;IAE1D,MAAM,CAAC,KAAK,CAAC,OAAO;QAClB,IAAI,IAAI,CAAC,EAAE,KAAK,SAAS;YAAE,OAAO,IAAI,CAAC,EAAE,CAAC;QAE1C,MAAM,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE;YAC/B,eAAe,EAAE,IAAI;YACrB,gBAAgB,EAAE,KAAK;YACvB,kBAAkB,EAAE,IAAI;YACxB,cAAc,EAAE,IAAI;SACrB,CAAC,CAAC;QAEH,IAAI,CAAC,EAAE,GAAG,QAAQ,CAAC,UAAU,CAAC;QAE9B,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,IAAI,EAAE;YAC9B,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;YACvB,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;QAEH,OAAO,IAAI,CAAC,EAAE,CAAC;IACjB,CAAC;IAED,MAAM,CAAC,KAAK,CAAC,UAAU;QACrB,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE;YACZ,OAAO;SACR;QACD,MAAM,QAAQ,CAAC,UAAU,EAAE,CAAC;IAC9B,CAAC;;AAhCH,+BAiCC","sourcesContent":["import Mongoose = require(\"mongoose\");\nimport config from \"../config/appConfig.json\";\n\nexport default class DBConnection {\n  private static db: Mongoose.Connection;\n\n  private static uri = config.development.mongo_url_testing;\n\n  static async connect(): Promise<Mongoose.Connection> {\n    if (this.db !== undefined) return this.db;\n\n    await Mongoose.connect(this.uri, {\n      useNewUrlParser: true,\n      useFindAndModify: false,\n      useUnifiedTopology: true,\n      useCreateIndex: true,\n    });\n\n    this.db = Mongoose.connection;\n\n    this.db.once(\"open\", async () => {\n      console.log(\"Connected to database\");\n    });\n    this.db.on(\"error\", () => {\n      console.log(\"Error connecting to database\");\n    });\n\n    return this.db;\n  }\n\n  static async disconnect() {\n    if (!this.db) {\n      return;\n    }\n    await Mongoose.disconnect();\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"83d9ea985cfbd531086ad5b4bcfe150eff5db4b6","contentHash":"91d8b31006b3f91deaab205e51312f32a28ce08c971342f38a95b3d1fe5f785b"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\utill\\QueryHelper.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\utill\\QueryHelper.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":12,"column":8},"end":{"line":12,"column":27}},"2":{"start":{"line":13,"column":8},"end":{"line":13,"column":39}},"3":{"start":{"line":14,"column":8},"end":{"line":14,"column":33}},"4":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"5":{"start":{"line":16,"column":8},"end":{"line":16,"column":29}},"6":{"start":{"line":17,"column":8},"end":{"line":17,"column":25}},"7":{"start":{"line":18,"column":8},"end":{"line":18,"column":27}},"8":{"start":{"line":21,"column":8},"end":{"line":36,"column":9}},"9":{"start":{"line":23,"column":16},"end":{"line":23,"column":29}},"10":{"start":{"line":25,"column":16},"end":{"line":25,"column":29}},"11":{"start":{"line":27,"column":16},"end":{"line":27,"column":29}},"12":{"start":{"line":29,"column":16},"end":{"line":29,"column":30}},"13":{"start":{"line":31,"column":16},"end":{"line":31,"column":29}},"14":{"start":{"line":33,"column":16},"end":{"line":33,"column":29}},"15":{"start":{"line":35,"column":16},"end":{"line":35,"column":29}},"16":{"start":{"line":39,"column":18},"end":{"line":46,"column":9}},"17":{"start":{"line":40,"column":50},"end":{"line":45,"column":13}},"18":{"start":{"line":47,"column":23},"end":{"line":53,"column":10}},"19":{"start":{"line":48,"column":25},"end":{"line":48,"column":46}},"20":{"start":{"line":49,"column":26},"end":{"line":49,"column":56}},"21":{"start":{"line":50,"column":26},"end":{"line":50,"column":40}},"22":{"start":{"line":51,"column":28},"end":{"line":51,"column":63}},"23":{"start":{"line":52,"column":12},"end":{"line":52,"column":55}},"24":{"start":{"line":54,"column":28},"end":{"line":56,"column":9}},"25":{"start":{"line":57,"column":22},"end":{"line":57,"column":58}},"26":{"start":{"line":58,"column":23},"end":{"line":58,"column":44}},"27":{"start":{"line":59,"column":22},"end":{"line":62,"column":19}},"28":{"start":{"line":64,"column":8},"end":{"line":75,"column":9}},"29":{"start":{"line":65,"column":12},"end":{"line":67,"column":43}},"30":{"start":{"line":70,"column":12},"end":{"line":74,"column":35}},"31":{"start":{"line":76,"column":8},"end":{"line":76,"column":55}},"32":{"start":{"line":76,"column":37},"end":{"line":76,"column":53}},"33":{"start":{"line":77,"column":22},"end":{"line":77,"column":39}},"34":{"start":{"line":78,"column":8},"end":{"line":81,"column":10}},"35":{"start":{"line":84,"column":0},"end":{"line":84,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":75},"end":{"line":19,"column":5}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":26},"end":{"line":37,"column":5}},"line":20},"2":{"name":"(anonymous_2)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":26},"end":{"line":82,"column":5}},"line":38},"3":{"name":"(anonymous_3)","decl":{"start":{"line":40,"column":38},"end":{"line":40,"column":39}},"loc":{"start":{"line":40,"column":50},"end":{"line":45,"column":13}},"line":40},"4":{"name":"(anonymous_4)","decl":{"start":{"line":47,"column":50},"end":{"line":47,"column":51}},"loc":{"start":{"line":47,"column":59},"end":{"line":53,"column":9}},"line":47},"5":{"name":"(anonymous_5)","decl":{"start":{"line":76,"column":30},"end":{"line":76,"column":31}},"loc":{"start":{"line":76,"column":37},"end":{"line":76,"column":53}},"line":76}},"branchMap":{"0":{"loc":{"start":{"line":21,"column":8},"end":{"line":36,"column":9}},"type":"switch","locations":[{"start":{"line":22,"column":12},"end":{"line":23,"column":29}},{"start":{"line":24,"column":12},"end":{"line":25,"column":29}},{"start":{"line":26,"column":12},"end":{"line":27,"column":29}},{"start":{"line":28,"column":12},"end":{"line":29,"column":30}},{"start":{"line":30,"column":12},"end":{"line":31,"column":29}},{"start":{"line":32,"column":12},"end":{"line":33,"column":29}},{"start":{"line":34,"column":12},"end":{"line":35,"column":29}}],"line":21},"1":{"loc":{"start":{"line":51,"column":28},"end":{"line":51,"column":63}},"type":"cond-expr","locations":[{"start":{"line":51,"column":47},"end":{"line":51,"column":52}},{"start":{"line":51,"column":55},"end":{"line":51,"column":63}}],"line":51},"2":{"loc":{"start":{"line":57,"column":22},"end":{"line":57,"column":58}},"type":"cond-expr","locations":[{"start":{"line":57,"column":52},"end":{"line":57,"column":53}},{"start":{"line":57,"column":56},"end":{"line":57,"column":58}}],"line":57},"3":{"loc":{"start":{"line":64,"column":8},"end":{"line":75,"column":9}},"type":"if","locations":[{"start":{"line":64,"column":8},"end":{"line":75,"column":9}},{"start":{"line":64,"column":8},"end":{"line":75,"column":9}}],"line":64}},"s":{"0":1,"1":6,"2":6,"3":6,"4":6,"5":6,"6":6,"7":6,"8":8,"9":5,"10":0,"11":0,"12":0,"13":0,"14":0,"15":3,"16":6,"17":6,"18":6,"19":8,"20":8,"21":8,"22":8,"23":8,"24":6,"25":6,"26":6,"27":6,"28":6,"29":3,"30":3,"31":6,"32":6,"33":6,"34":6,"35":1},"f":{"0":6,"1":8,"2":6,"3":6,"4":8,"5":6},"b":{"0":[5,0,0,0,0,0,3],"1":[0,8],"2":[3,3],"3":[3,3]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/utill/QueryHelper.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/utill/QueryHelper.ts"],"names":[],"mappings":"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","sourcesContent":["import { FilterQuery, Model } from \"mongoose\";\n\ninterface QueryHelperResult<T> {\n  total: number;\n  items: T[];\n}\n\nexport default class QueryHelper<T extends Document> {\n  constructor(\n    private query: string,\n    private queryFields: string[],\n    private populate: string[],\n    private sortBy: string,\n    private filter: string,\n    private page: number,\n    private limit: number\n  ) {}\n\n  private static findLogic(arg: string): string {\n    switch (arg) {\n      case \"eq\":\n        return \"$eq\";\n      case \"neq\":\n        return \"$ne\";\n      case \"in\":\n        return \"$in\";\n      case \"nin\":\n        return \"$nin\";\n      case \"gt\":\n        return \"$gt\";\n      case \"lt\":\n        return \"$lt\";\n      default:\n        return \"$eq\";\n    }\n  }\n\n  public async generate(model: Model<any>): Promise<QueryHelperResult<T>> {\n    const q = {\n      $or: this.queryFields.map((field) => ({\n        [field]: {\n          $regex: this.query,\n          $options: \"i\",\n        },\n      })),\n    };\n    const filter = this.filter.split(\",\").map((arg) => {\n      const args = arg.trim().split(\" \");\n      const logic = QueryHelper.findLogic(args[1]);\n      const value = args.splice(2);\n      const operand = value.length > 1 ? value : value[0];\n      return { [args[0]]: { [logic]: operand } };\n    });\n    const queryFilter = {\n      $and: [q, ...filter],\n    };\n    const order = this.sortBy.startsWith(\"+\") ? 1 : -1;\n    const sortBy = this.sortBy.substr(1);\n    const total = await model\n      .find(queryFilter as FilterQuery<T>)\n      .countDocuments()\n      .exec();\n    let data: any;\n    if (this.limit === -1) {\n      data = model\n        .find(queryFilter as FilterQuery<T>)\n        .sort({ [sortBy]: order });\n    } else {\n      data = model\n        .find(queryFilter as FilterQuery<T>)\n        .sort({ [sortBy]: order })\n        .skip((this.page - 1) * this.limit)\n        .limit(this.limit);\n    }\n\n    this.populate.forEach((p) => data.populate(p));\n    const items = await data.exec();\n    return {\n      total,\n      items,\n    };\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"09e54f88009020ccef9cc353872f5a80d1bffb2e","contentHash":"d01d588c63ad672dd3d1b8c9d07fb7986fa585f91b0888c5bbd6b7cd479c9a7d"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\dao\\dailyProductsDAO.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\dao\\dailyProductsDAO.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":51}},"4":{"start":{"line":7,"column":14},"end":{"line":7,"column":59}},"5":{"start":{"line":8,"column":29},"end":{"line":8,"column":91}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":44}},"7":{"start":{"line":14,"column":8},"end":{"line":14,"column":72}},"8":{"start":{"line":17,"column":8},"end":{"line":21,"column":20}},"9":{"start":{"line":24,"column":8},"end":{"line":28,"column":21}},"10":{"start":{"line":31,"column":23},"end":{"line":38,"column":30}},"11":{"start":{"line":39,"column":8},"end":{"line":39,"column":22}},"12":{"start":{"line":42,"column":23},"end":{"line":49,"column":30}},"13":{"start":{"line":50,"column":8},"end":{"line":50,"column":22}},"14":{"start":{"line":53,"column":26},"end":{"line":53,"column":64}},"15":{"start":{"line":54,"column":24},"end":{"line":54,"column":60}},"16":{"start":{"line":55,"column":8},"end":{"line":62,"column":31}},"17":{"start":{"line":65,"column":23},"end":{"line":71,"column":36}},"18":{"start":{"line":72,"column":8},"end":{"line":72,"column":22}},"19":{"start":{"line":75,"column":23},"end":{"line":80,"column":10}},"20":{"start":{"line":81,"column":8},"end":{"line":81,"column":26}},"21":{"start":{"line":84,"column":0},"end":{"line":84,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":18},"end":{"line":12,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":40},"end":{"line":15,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":38},"end":{"line":22,"column":5}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":51},"end":{"line":29,"column":5}},"line":23},"5":{"name":"(anonymous_5)","decl":{"start":{"line":30,"column":4},"end":{"line":30,"column":5}},"loc":{"start":{"line":30,"column":50},"end":{"line":40,"column":5}},"line":30},"6":{"name":"(anonymous_6)","decl":{"start":{"line":41,"column":4},"end":{"line":41,"column":5}},"loc":{"start":{"line":41,"column":54},"end":{"line":51,"column":5}},"line":41},"7":{"name":"(anonymous_7)","decl":{"start":{"line":52,"column":4},"end":{"line":52,"column":5}},"loc":{"start":{"line":52,"column":47},"end":{"line":63,"column":5}},"line":52},"8":{"name":"(anonymous_8)","decl":{"start":{"line":64,"column":4},"end":{"line":64,"column":5}},"loc":{"start":{"line":64,"column":46},"end":{"line":73,"column":5}},"line":64},"9":{"name":"(anonymous_9)","decl":{"start":{"line":74,"column":4},"end":{"line":74,"column":5}},"loc":{"start":{"line":74,"column":69},"end":{"line":82,"column":5}},"line":74}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":1,"20":1,"21":1},"f":{"0":3,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1},"b":{"0":[1,1,1],"1":[2,1],"2":[3,3]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/dao/dailyProductsDAO.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/dao/dailyProductsDAO.ts"],"names":[],"mappings":"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","sourcesContent":["import moment from \"moment\";\nimport Dao from \"../interfaces/dao\";\nimport DailyProduct, {\n  DailyProductDocument,\n} from \"../schemaModels/dailyProduct.model\";\nimport SalesProductObjectModel from \"../models/salesProductObjectModel\";\nimport UserModel from \"../models/userModel\";\n\nexport default class DailyProductsDAO extends Dao {\n  constructor() {\n    super(DailyProduct);\n  }\n\n  public async updateDailyProducts(id: string, data: any) {\n    await this.model.findByIdAndUpdate(id, { dailyProducts: data });\n  }\n\n  public async getSalespersons(\n    start: moment.Moment,\n    end: moment.Moment\n  ): Promise<DailyProductDocument[]> {\n    return this.model\n      .find({ createdAt: { $gte: start, $lt: end } })\n      .select(\"salesperson\")\n      .populate(\"salesperson\")\n      .lean();\n  }\n\n  public async getWarehouseSalespersons(\n    id: string,\n    start: moment.Moment,\n    end: moment.Moment\n  ): Promise<DailyProductDocument[]> {\n    return (\n      this.model\n        .find({ createdAt: { $gte: start, $lt: end } })\n        .select(\"salesperson\")\n        .populate({ path: \"salesperson\", match: { warehouseId: id } })\n        .lean()\n    );\n  }\n\n  public async getSalesByDateAnalytics(\n    id: string,\n    start: moment.Moment,\n    end: moment.Moment\n  ): Promise<DailyProductDocument[]> {\n    const result = await this.model\n      .find({\n        salesperson: id,\n        createdAt: { $gte: start, $lt: end },\n      })\n      .populate(\"dailyProducts.product\")\n      .select([\"createdAt\", \"dailyProducts\"])\n      .sort(\"createdAt\");\n    return result;\n  }\n\n  public async getSalesByDateAnalyticsDate(\n    id: string,\n    start: moment.Moment,\n    end: moment.Moment\n  ): Promise<DailyProductDocument> {\n    const result = await this.model\n      .findOne({\n        salesperson: id,\n        createdAt: { $gte: start, $lt: end },\n      })\n      .populate(\"dailyProducts.product\")\n      .select([\"createdAt\", \"dailyProducts\"])\n      .sort(\"createdAt\");\n    return result;\n  }\n\n  public async getDailyProductsOfOneSalesperson(\n    id: string\n  ): Promise<DailyProductDocument> {\n    const startDate = moment().startOf(\"day\");\n    const endTime = moment().endOf(\"day\");\n    return this.model\n      .findOne({\n        salesperson: id,\n        archived: false,\n        createdAt: { $gte: startDate, $lt: endTime },\n      })\n      .populate(\"dailyProducts.product\")\n      .sort(\"createdAt\");\n  }\n\n  public async getAllDailyProducts(\n    id: string | UserModel,\n    start: moment.Moment,\n    end: moment.Moment\n  ): Promise<Partial<DailyProductDocument>> {\n    const result = await this.model\n      .findOne({\n        salesperson: id,\n        createdAt: { $gte: start, $lt: end },\n      })\n      .populate(\"dailyProducts.product\")\n      .select(\"dailyProducts\");\n    return result;\n  }\n\n  public async updateDailyProductsQuantity(\n    id: string | UserModel,\n    dailyProducts: SalesProductObjectModel[],\n    start: moment.Moment,\n    end: moment.Moment\n  ): Promise<string> {\n    const result = await this.model.findOneAndUpdate(\n      {\n        salesperson: id,\n        createdAt: { $gte: start, $lt: end },\n      },\n      {\n        dailyProducts,\n      }\n    );\n    return result._id;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5372e9c75b9acc240851a81dd327ed1f6fb0eb3c","contentHash":"b4a165e52be79eb21a30eb810e1608cffa1dcf79709a3cb04f81c2d8edbcb46a"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\schemaModels\\dailyProduct.model.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\schemaModels\\dailyProduct.model.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":72}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":21}},"11":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"13":{"start":{"line":15,"column":31},"end":{"line":15,"column":42}},"14":{"start":{"line":16,"column":17},"end":{"line":16,"column":19}},"15":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"16":{"start":{"line":17,"column":21},"end":{"line":17,"column":141}},"17":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"18":{"start":{"line":17,"column":109},"end":{"line":17,"column":141}},"19":{"start":{"line":18,"column":4},"end":{"line":18,"column":36}},"20":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"21":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":62}},"23":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"24":{"start":{"line":25,"column":17},"end":{"line":25,"column":50}},"25":{"start":{"line":26,"column":17},"end":{"line":26,"column":60}},"26":{"start":{"line":27,"column":27},"end":{"line":48,"column":24}},"27":{"start":{"line":49,"column":0},"end":{"line":49,"column":84}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":80},"end":{"line":9,"column":81}},"loc":{"start":{"line":9,"column":95},"end":{"line":11,"column":1}},"line":9},"4":{"name":"(anonymous_4)","decl":{"start":{"line":11,"column":5},"end":{"line":11,"column":6}},"loc":{"start":{"line":11,"column":20},"end":{"line":13,"column":1}},"line":11},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":50},"end":{"line":14,"column":51}},"loc":{"start":{"line":14,"column":65},"end":{"line":20,"column":1}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":21,"column":56},"end":{"line":21,"column":57}},"loc":{"start":{"line":21,"column":71},"end":{"line":23,"column":1}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"type":"binary-expr","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":30}},{"start":{"line":9,"column":34},"end":{"line":9,"column":57}},{"start":{"line":9,"column":63},"end":{"line":13,"column":1}}],"line":9},"5":{"loc":{"start":{"line":9,"column":63},"end":{"line":13,"column":1}},"type":"cond-expr","locations":[{"start":{"line":9,"column":80},"end":{"line":11,"column":1}},{"start":{"line":11,"column":5},"end":{"line":13,"column":1}}],"line":9},"6":{"loc":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":20},"end":{"line":14,"column":24}},{"start":{"line":14,"column":28},"end":{"line":14,"column":45}},{"start":{"line":14,"column":50},"end":{"line":20,"column":1}}],"line":14},"7":{"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},{"start":{"line":15,"column":4},"end":{"line":15,"column":42}}],"line":15},"8":{"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":11}},{"start":{"line":15,"column":15},"end":{"line":15,"column":29}}],"line":15},"9":{"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},{"start":{"line":17,"column":4},"end":{"line":17,"column":141}}],"line":17},"10":{"loc":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},{"start":{"line":17,"column":40},"end":{"line":17,"column":141}}],"line":17},"11":{"loc":{"start":{"line":17,"column":44},"end":{"line":17,"column":107}},"type":"binary-expr","locations":[{"start":{"line":17,"column":44},"end":{"line":17,"column":59}},{"start":{"line":17,"column":63},"end":{"line":17,"column":107}}],"line":17},"12":{"loc":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"type":"binary-expr","locations":[{"start":{"line":21,"column":23},"end":{"line":21,"column":27}},{"start":{"line":21,"column":31},"end":{"line":21,"column":51}},{"start":{"line":21,"column":56},"end":{"line":23,"column":1}}],"line":21},"13":{"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":61}},"type":"cond-expr","locations":[{"start":{"line":22,"column":37},"end":{"line":22,"column":40}},{"start":{"line":22,"column":43},"end":{"line":22,"column":61}}],"line":22},"14":{"loc":{"start":{"line":22,"column":12},"end":{"line":22,"column":33}},"type":"binary-expr","locations":[{"start":{"line":22,"column":12},"end":{"line":22,"column":15}},{"start":{"line":22,"column":19},"end":{"line":22,"column":33}}],"line":22}},"s":{"0":1,"1":9,"2":9,"3":9,"4":4,"5":0,"6":0,"7":0,"8":1,"9":1,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":1,"17":51,"18":9,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1},"f":{"0":9,"1":4,"2":0,"3":1,"4":0,"5":1,"6":1},"b":{"0":[1,1,1],"1":[1,0],"2":[9,0],"3":[0,0],"4":[1,1,1],"5":[1,0],"6":[1,1,1],"7":[0,1],"8":[1,1],"9":[1,0],"10":[9,42],"11":[51,51],"12":[1,1,1],"13":[1,0],"14":[1,1]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/schemaModels/dailyProduct.model.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/schemaModels/dailyProduct.model.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,mDAAqC;AAErC,6DAAqC;AAKrC,MAAM,kBAAkB,GAAG,IAAI,QAAQ,CAAC,MAAM,CAC5C;IACE,aAAa,EAAE;QACb;YACE,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,gBAAM,CAAC,OAAO,EAAE;YACtE,QAAQ,EAAE;gBACR,IAAI,EAAE,MAAM;aACb;YACD,KAAK,EAAE;gBACL,IAAI,EAAE,MAAM;aACb;SACF;KACF;IACD,WAAW,EAAE;QACX,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QACpC,GAAG,EAAE,gBAAM,CAAC,IAAI;KACjB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,OAAO;QACb,OAAO,EAAE,KAAK;QACd,KAAK,EAAE,IAAI;KACZ;CACF,EACD,EAAE,UAAU,EAAE,IAAI,EAAE,CACrB,CAAC;AAEF,kBAAe,QAAQ,CAAC,KAAK,CAC3B,gBAAM,CAAC,YAAY,EACnB,kBAAkB,CACnB,CAAC","sourcesContent":["import * as mongoose from \"mongoose\";\nimport { Document } from \"mongoose\";\nimport DBUtil from \"../utill/dBUtil\";\nimport DailyProductModel from \"../models/dailyProductModel\";\n\nexport interface DailyProductDocument extends DailyProductModel, Document {}\n\nconst dailyProductSchema = new mongoose.Schema(\n  {\n    dailyProducts: [\n      {\n        product: { type: mongoose.Schema.Types.ObjectId, ref: DBUtil.PRODUCT },\n        quantity: {\n          type: Number,\n        },\n        sales: {\n          type: Number,\n        },\n      },\n    ],\n    salesperson: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: DBUtil.USER,\n    },\n    archived: {\n      type: Boolean,\n      default: false,\n      index: true,\n    },\n  },\n  { timestamps: true }\n);\n\nexport default mongoose.model<DailyProductDocument>(\n  DBUtil.DAILYPRODUCT,\n  dailyProductSchema\n);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6fedaf23c31c3bdfb2fba2504b680d6c73eeb34c","contentHash":"0f077ea81ee1c9fc6dbb2a521b558c25bfbfa063fa4847f56e98a39414c14368"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\dao\\productDAO.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\dao\\productDAO.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":34}},"4":{"start":{"line":7,"column":14},"end":{"line":7,"column":59}},"5":{"start":{"line":8,"column":24},"end":{"line":8,"column":81}},"6":{"start":{"line":9,"column":22},"end":{"line":9,"column":70}},"7":{"start":{"line":10,"column":21},"end":{"line":10,"column":28}},"8":{"start":{"line":13,"column":8},"end":{"line":13,"column":39}},"9":{"start":{"line":16,"column":28},"end":{"line":16,"column":170}},"10":{"start":{"line":17,"column":8},"end":{"line":17,"column":61}},"11":{"start":{"line":20,"column":8},"end":{"line":20,"column":62}},"12":{"start":{"line":23,"column":8},"end":{"line":23,"column":60}},"13":{"start":{"line":26,"column":8},"end":{"line":26,"column":84}},"14":{"start":{"line":29,"column":8},"end":{"line":31,"column":11}},"15":{"start":{"line":34,"column":0},"end":{"line":34,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":18},"end":{"line":14,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":29},"end":{"line":18,"column":5}},"line":15},"3":{"name":"(anonymous_3)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":28},"end":{"line":21,"column":5}},"line":19},"4":{"name":"(anonymous_4)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":40},"end":{"line":24,"column":5}},"line":22},"5":{"name":"(anonymous_5)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":51},"end":{"line":27,"column":5}},"line":25},"6":{"name":"(anonymous_6)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":35},"end":{"line":32,"column":5}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1},"f":{"0":3,"1":2,"2":0,"3":0,"4":0,"5":0,"6":0},"b":{"0":[1,1,1],"1":[3,0],"2":[3,3]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/dao/productDAO.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/dao/productDAO.ts"],"names":[],"mappings":";;;;;AAAA,mCAAoC;AACpC,4DAAoC;AACpC,kFAAyE;AACzE,uEAA+C;AAG/C,MAAM,EAAE,QAAQ,EAAE,GAAG,OAAO,CAAC;AAE7B,MAAqB,UAAW,SAAQ,aAAG;IACzC;QACE,KAAK,CAAC,uBAAO,CAAC,CAAC;IACjB,CAAC;IAEM,KAAK,CAAC,MAAM,CACjB,UAA+B;QAE/B,MAAM,WAAW,GAAG,IAAI,qBAAW,CACjC,UAAU,CAAC,KAAK,EAChB,CAAC,MAAM,CAAC,EACR,CAAC,YAAY,CAAC,EACd,UAAU,CAAC,MAAM,EACjB,UAAU,CAAC,MAAM,EACjB,UAAU,CAAC,IAAI,EACf,UAAU,CAAC,KAAK,CACjB,CAAC;QAEF,OAAO,WAAW,CAAC,QAAQ,CAAC,uBAAO,CAAC,CAAC;IACvC,CAAC;IAEM,KAAK,CAAC,aAAa,CAAC,EAAU;QACnC,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;IACxD,CAAC;IAEM,KAAK,CAAC,uBAAuB,CAAC,IAAY;QAC/C,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;IACtD,CAAC;IAEM,KAAK,CAAC,aAAa,CACxB,SAAiB,EACjB,cAAqC;QAErC,MAAM,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,IAAI,QAAQ,CAAC,SAAS,CAAC,EAAE,cAAc,CAAC,CAAC;IAC9E,CAAC;IAEM,KAAK,CAAC,aAAa,CAAC,SAAiB;QAC1C,MAAM,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,IAAI,QAAQ,CAAC,SAAS,CAAC,EAAE;YAC1D,QAAQ,EAAE,IAAI;SACf,CAAC,CAAC;IACL,CAAC;CACF;AAzCD,6BAyCC","sourcesContent":["import mongodb = require(\"mongodb\");\nimport Dao from \"../interfaces/dao\";\nimport Product, { ProductDocument } from \"../schemaModels/product.model\";\nimport QueryHelper from \"../utill/QueryHelper\";\nimport ProductModel from \"../models/productModel\";\n\nconst { ObjectID } = mongodb;\n\nexport default class ProductDAO extends Dao {\n  constructor() {\n    super(Product);\n  }\n\n  public async getAll(\n    filterData: Record<string, any>\n  ): Promise<Record<string, any>> {\n    const queryHelper = new QueryHelper(\n      filterData.query,\n      [\"name\"],\n      [\"categoryId\"],\n      filterData.sortBy,\n      filterData.filter,\n      filterData.page,\n      filterData.limit\n    );\n\n    return queryHelper.generate(Product);\n  }\n\n  public async getOneProduct(id: string): Promise<ProductDocument> {\n    return this.model.findById(id).populate(\"categoryId\");\n  }\n\n  public async getDeletedProductByName(name: string): Promise<ProductDocument> {\n    return this.model.findOne({ name, archived: true });\n  }\n\n  public async updateProduct(\n    productId: string,\n    productDetails: Partial<ProductModel>\n  ): Promise<void> {\n    await this.model.findByIdAndUpdate(new ObjectID(productId), productDetails);\n  }\n\n  public async deleteProduct(productId: string): Promise<void> {\n    await this.model.findByIdAndUpdate(new ObjectID(productId), {\n      archived: true,\n    });\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"374426edd7fea4ee3e868df0cb3bd5c5ac95a2ef","contentHash":"9ee67f752b3829426b8d2f586b8bfd8161644d5411baf16cc6980f3859f6f7ef"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\schemaModels\\product.model.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\schemaModels\\product.model.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":72}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":21}},"11":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"13":{"start":{"line":15,"column":31},"end":{"line":15,"column":42}},"14":{"start":{"line":16,"column":17},"end":{"line":16,"column":19}},"15":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"16":{"start":{"line":17,"column":21},"end":{"line":17,"column":141}},"17":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"18":{"start":{"line":17,"column":109},"end":{"line":17,"column":141}},"19":{"start":{"line":18,"column":4},"end":{"line":18,"column":36}},"20":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"21":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":62}},"23":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"24":{"start":{"line":25,"column":17},"end":{"line":25,"column":50}},"25":{"start":{"line":26,"column":17},"end":{"line":26,"column":60}},"26":{"start":{"line":27,"column":22},"end":{"line":53,"column":2}},"27":{"start":{"line":54,"column":0},"end":{"line":54,"column":74}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":80},"end":{"line":9,"column":81}},"loc":{"start":{"line":9,"column":95},"end":{"line":11,"column":1}},"line":9},"4":{"name":"(anonymous_4)","decl":{"start":{"line":11,"column":5},"end":{"line":11,"column":6}},"loc":{"start":{"line":11,"column":20},"end":{"line":13,"column":1}},"line":11},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":50},"end":{"line":14,"column":51}},"loc":{"start":{"line":14,"column":65},"end":{"line":20,"column":1}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":21,"column":56},"end":{"line":21,"column":57}},"loc":{"start":{"line":21,"column":71},"end":{"line":23,"column":1}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"type":"binary-expr","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":30}},{"start":{"line":9,"column":34},"end":{"line":9,"column":57}},{"start":{"line":9,"column":63},"end":{"line":13,"column":1}}],"line":9},"5":{"loc":{"start":{"line":9,"column":63},"end":{"line":13,"column":1}},"type":"cond-expr","locations":[{"start":{"line":9,"column":80},"end":{"line":11,"column":1}},{"start":{"line":11,"column":5},"end":{"line":13,"column":1}}],"line":9},"6":{"loc":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":20},"end":{"line":14,"column":24}},{"start":{"line":14,"column":28},"end":{"line":14,"column":45}},{"start":{"line":14,"column":50},"end":{"line":20,"column":1}}],"line":14},"7":{"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},{"start":{"line":15,"column":4},"end":{"line":15,"column":42}}],"line":15},"8":{"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":11}},{"start":{"line":15,"column":15},"end":{"line":15,"column":29}}],"line":15},"9":{"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},{"start":{"line":17,"column":4},"end":{"line":17,"column":141}}],"line":17},"10":{"loc":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},{"start":{"line":17,"column":40},"end":{"line":17,"column":141}}],"line":17},"11":{"loc":{"start":{"line":17,"column":44},"end":{"line":17,"column":107}},"type":"binary-expr","locations":[{"start":{"line":17,"column":44},"end":{"line":17,"column":59}},{"start":{"line":17,"column":63},"end":{"line":17,"column":107}}],"line":17},"12":{"loc":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"type":"binary-expr","locations":[{"start":{"line":21,"column":23},"end":{"line":21,"column":27}},{"start":{"line":21,"column":31},"end":{"line":21,"column":51}},{"start":{"line":21,"column":56},"end":{"line":23,"column":1}}],"line":21},"13":{"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":61}},"type":"cond-expr","locations":[{"start":{"line":22,"column":37},"end":{"line":22,"column":40}},{"start":{"line":22,"column":43},"end":{"line":22,"column":61}}],"line":22},"14":{"loc":{"start":{"line":22,"column":12},"end":{"line":22,"column":33}},"type":"binary-expr","locations":[{"start":{"line":22,"column":12},"end":{"line":22,"column":15}},{"start":{"line":22,"column":19},"end":{"line":22,"column":33}}],"line":22}},"s":{"0":1,"1":9,"2":9,"3":9,"4":3,"5":0,"6":0,"7":0,"8":1,"9":1,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":1,"17":51,"18":9,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1},"f":{"0":9,"1":3,"2":0,"3":1,"4":0,"5":1,"6":1},"b":{"0":[1,1,1],"1":[1,0],"2":[9,0],"3":[0,0],"4":[1,1,1],"5":[1,0],"6":[1,1,1],"7":[0,1],"8":[1,1],"9":[1,0],"10":[9,42],"11":[51,51],"12":[1,1,1],"13":[1,0],"14":[1,1]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/schemaModels/product.model.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/schemaModels/product.model.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,mDAAqC;AAErC,6DAAqC;AAKrC,MAAM,aAAa,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;IACxC,IAAI,EAAE;QACJ,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,IAAI;QACV,MAAM,EAAE,IAAI;KACb;IACD,UAAU,EAAE;QACV,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QACpC,IAAI,EAAE,IAAI;QACV,GAAG,EAAE,gBAAM,CAAC,UAAU;KACvB;IACD,SAAS,EAAE;QACT,IAAI,EAAE,MAAM;KACb;IACD,WAAW,EAAE;QACX,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,IAAI;KACX;IACD,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;KACb;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,OAAO;QACb,OAAO,EAAE,KAAK;QACd,KAAK,EAAE,IAAI;KACZ;CACF,CAAC,CAAC;AAEH,kBAAe,QAAQ,CAAC,KAAK,CAAkB,gBAAM,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC","sourcesContent":["import * as mongoose from \"mongoose\";\nimport { Document } from \"mongoose\";\nimport DBUtil from \"../utill/dBUtil\";\nimport ProductModel from \"../models/productModel\";\n\nexport interface ProductDocument extends ProductModel, Document {}\n\nconst productSchema = new mongoose.Schema({\n  name: {\n    type: String,\n    trim: true,\n    unique: true,\n  },\n  categoryId: {\n    type: mongoose.Schema.Types.ObjectId,\n    trim: true,\n    ref: DBUtil.CATEGORIES,\n  },\n  unitPrice: {\n    type: Number,\n  },\n  description: {\n    type: String,\n    trim: true,\n  },\n  photo: {\n    type: String,\n  },\n  archived: {\n    type: Boolean,\n    default: false,\n    index: true,\n  },\n});\n\nexport default mongoose.model<ProductDocument>(DBUtil.PRODUCT, productSchema);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e42baf3adc7b1d0380ea26d737d0aab985b3d833","contentHash":"a237a8b2fc14c884366d08e59d8d2bd9fedc7eef74532e9e5a326d411d23032a"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\dao\\userDAO.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\dao\\userDAO.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":34}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":75}},"5":{"start":{"line":8,"column":14},"end":{"line":8,"column":59}},"6":{"start":{"line":9,"column":22},"end":{"line":9,"column":70}},"7":{"start":{"line":10,"column":21},"end":{"line":10,"column":28}},"8":{"start":{"line":13,"column":8},"end":{"line":13,"column":36}},"9":{"start":{"line":16,"column":8},"end":{"line":16,"column":35}},"10":{"start":{"line":19,"column":8},"end":{"line":19,"column":60}},"11":{"start":{"line":22,"column":23},"end":{"line":26,"column":10}},"12":{"start":{"line":27,"column":8},"end":{"line":27,"column":22}},"13":{"start":{"line":30,"column":8},"end":{"line":32,"column":11}},"14":{"start":{"line":35,"column":21},"end":{"line":35,"column":56}},"15":{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},"16":{"start":{"line":37,"column":12},"end":{"line":37,"column":46}},"17":{"start":{"line":39,"column":28},"end":{"line":39,"column":165}},"18":{"start":{"line":40,"column":8},"end":{"line":40,"column":58}},"19":{"start":{"line":43,"column":21},"end":{"line":43,"column":23}},"20":{"start":{"line":44,"column":8},"end":{"line":49,"column":9}},"21":{"start":{"line":45,"column":12},"end":{"line":45,"column":82}},"22":{"start":{"line":48,"column":12},"end":{"line":48,"column":61}},"23":{"start":{"line":50,"column":8},"end":{"line":52,"column":9}},"24":{"start":{"line":51,"column":12},"end":{"line":51,"column":46}},"25":{"start":{"line":53,"column":28},"end":{"line":53,"column":165}},"26":{"start":{"line":54,"column":8},"end":{"line":54,"column":58}},"27":{"start":{"line":57,"column":8},"end":{"line":59,"column":37}},"28":{"start":{"line":62,"column":8},"end":{"line":67,"column":11}},"29":{"start":{"line":71,"column":23},"end":{"line":71,"column":85}},"30":{"start":{"line":72,"column":8},"end":{"line":72,"column":22}},"31":{"start":{"line":75,"column":8},"end":{"line":75,"column":79}},"32":{"start":{"line":78,"column":0},"end":{"line":78,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":18},"end":{"line":14,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":24},"end":{"line":17,"column":5}},"line":15},"3":{"name":"(anonymous_3)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":28},"end":{"line":20,"column":5}},"line":18},"4":{"name":"(anonymous_4)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":37},"end":{"line":28,"column":5}},"line":21},"5":{"name":"(anonymous_5)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":50},"end":{"line":33,"column":5}},"line":29},"6":{"name":"(anonymous_6)","decl":{"start":{"line":34,"column":4},"end":{"line":34,"column":5}},"loc":{"start":{"line":34,"column":37},"end":{"line":41,"column":5}},"line":34},"7":{"name":"(anonymous_7)","decl":{"start":{"line":42,"column":4},"end":{"line":42,"column":5}},"loc":{"start":{"line":42,"column":45},"end":{"line":55,"column":5}},"line":42},"8":{"name":"(anonymous_8)","decl":{"start":{"line":56,"column":4},"end":{"line":56,"column":5}},"loc":{"start":{"line":56,"column":28},"end":{"line":60,"column":5}},"line":56},"9":{"name":"(anonymous_9)","decl":{"start":{"line":61,"column":4},"end":{"line":61,"column":5}},"loc":{"start":{"line":61,"column":32},"end":{"line":69,"column":5}},"line":61},"10":{"name":"(anonymous_10)","decl":{"start":{"line":70,"column":4},"end":{"line":70,"column":5}},"loc":{"start":{"line":70,"column":33},"end":{"line":73,"column":5}},"line":70},"11":{"name":"(anonymous_11)","decl":{"start":{"line":74,"column":4},"end":{"line":74,"column":5}},"loc":{"start":{"line":74,"column":47},"end":{"line":76,"column":5}},"line":74}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},"type":"if","locations":[{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},{"start":{"line":36,"column":8},"end":{"line":38,"column":9}}],"line":36},"4":{"loc":{"start":{"line":44,"column":8},"end":{"line":49,"column":9}},"type":"if","locations":[{"start":{"line":44,"column":8},"end":{"line":49,"column":9}},{"start":{"line":44,"column":8},"end":{"line":49,"column":9}}],"line":44},"5":{"loc":{"start":{"line":50,"column":8},"end":{"line":52,"column":9}},"type":"if","locations":[{"start":{"line":50,"column":8},"end":{"line":52,"column":9}},{"start":{"line":50,"column":8},"end":{"line":52,"column":9}}],"line":50}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":5,"9":7,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":1,"21":0,"22":1,"23":1,"24":0,"25":1,"26":1,"27":2,"28":1,"29":2,"30":2,"31":0,"32":1},"f":{"0":3,"1":5,"2":7,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":1,"10":2,"11":0},"b":{"0":[1,1,1],"1":[3,0],"2":[3,3],"3":[0,1],"4":[0,1],"5":[0,1]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/dao/userDAO.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/dao/userDAO.ts"],"names":[],"mappings":"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","sourcesContent":["import mongodb = require(\"mongodb\");\nimport UserModel from \"../models/userModel\";\nimport User, { UserDocument } from \"../schemaModels/user.model\";\nimport Dao from \"../interfaces/dao\";\nimport QueryHelper from \"../utill/QueryHelper\";\n\nconst { ObjectID } = mongodb;\n\nexport default class UserDAO extends Dao {\n  constructor() {\n    super(User);\n  }\n\n  public async add(userData: UserModel): Promise<UserDocument> {\n    return super.add(userData);\n  }\n\n  public async getUserByUid(uid: string): Promise<UserDocument> {\n    return this.model.findOne({ uid, archived: false });\n  }\n\n  public async getAllUnassignedManagers(): Promise<UserDocument[]> {\n    const result = await this.model.find({\n      role: \"manager\",\n      warehouseId: { $exists: false },\n      archived: false,\n    });\n    return result;\n  }\n\n  public async assignWarehouse(\n    warehouseId: string,\n    managerId: string\n  ): Promise<void> {\n    await this.model.findByIdAndUpdate(new ObjectID(managerId), {\n      warehouseId,\n    });\n  }\n\n  public async getAllManagers(\n    filterData: Record<string, any>\n  ): Promise<Record<string, any>> {\n    let filter = \"role eq manager,archived eq false\";\n    if (filterData.filter) {\n      filter += `,${filterData.filter}`;\n    }\n    const queryHelper = new QueryHelper(\n      filterData.query,\n      [\"firstName\"],\n      [\"warehouseId\"],\n      filterData.sortBy,\n      filter,\n      filterData.page,\n      filterData.limit\n    );\n\n    return queryHelper.generate(User);\n  }\n\n  public async getAllSalespersons(\n    filterData: Record<string, any>,\n    id?: string\n  ): Promise<Record<string, any>> {\n    let filter = \"\";\n    if (id) {\n      filter = `role eq salesperson,archived eq false,warehouseId eq ${id}`;\n    } else {\n      filter = `role eq salesperson,archived eq false`;\n    }\n    if (filterData.filter) {\n      filter += `,${filterData.filter}`;\n    }\n    const queryHelper = new QueryHelper(\n      filterData.query,\n      [\"firstName\"],\n      [\"warehouseId\"],\n      filterData.sortBy,\n      filter,\n      filterData.page,\n      filterData.limit\n    );\n\n    return queryHelper.generate(User);\n  }\n\n  public async getOneManager(id: string): Promise<UserDocument> {\n    return this.model\n      .findOne({ _id: id, role: \"manager\", archived: false })\n      .populate(\"warehouseId\");\n  }\n\n  public async getOneSalesperson(id: string): Promise<UserDocument> {\n    return this.model\n      .findOne({\n        _id: id,\n        role: \"salesperson\",\n        archived: false,\n      });\n      // .populate(\"warehouseId\");\n  }\n\n  public async editUser(\n      userId: string,\n      data: Partial<UserModel>\n  ): Promise<string> {\n    const result = await this.model.findByIdAndUpdate(new ObjectID(userId), data);\n    return result;\n  }\n\n  public async updateLocation(\n      userId: string,\n      userLocation: Partial<UserModel>\n  ): Promise<void>{\n    await this.model.findByIdAndUpdate(new ObjectID(userId), userLocation);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"030e0033753f33a5a9a732fd80f298fb5c11738c","contentHash":"4234aae245a865467f416e8cb61fc3800de819bcac6a6dea0352cc11ae09ebe1"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\schemaModels\\user.model.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\schemaModels\\user.model.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":72}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":21}},"11":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"13":{"start":{"line":15,"column":31},"end":{"line":15,"column":42}},"14":{"start":{"line":16,"column":17},"end":{"line":16,"column":19}},"15":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"16":{"start":{"line":17,"column":21},"end":{"line":17,"column":141}},"17":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"18":{"start":{"line":17,"column":109},"end":{"line":17,"column":141}},"19":{"start":{"line":18,"column":4},"end":{"line":18,"column":36}},"20":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"21":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":62}},"23":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"24":{"start":{"line":25,"column":17},"end":{"line":25,"column":50}},"25":{"start":{"line":26,"column":17},"end":{"line":26,"column":60}},"26":{"start":{"line":27,"column":19},"end":{"line":74,"column":24}},"27":{"start":{"line":75,"column":0},"end":{"line":75,"column":68}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":80},"end":{"line":9,"column":81}},"loc":{"start":{"line":9,"column":95},"end":{"line":11,"column":1}},"line":9},"4":{"name":"(anonymous_4)","decl":{"start":{"line":11,"column":5},"end":{"line":11,"column":6}},"loc":{"start":{"line":11,"column":20},"end":{"line":13,"column":1}},"line":11},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":50},"end":{"line":14,"column":51}},"loc":{"start":{"line":14,"column":65},"end":{"line":20,"column":1}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":21,"column":56},"end":{"line":21,"column":57}},"loc":{"start":{"line":21,"column":71},"end":{"line":23,"column":1}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"type":"binary-expr","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":30}},{"start":{"line":9,"column":34},"end":{"line":9,"column":57}},{"start":{"line":9,"column":63},"end":{"line":13,"column":1}}],"line":9},"5":{"loc":{"start":{"line":9,"column":63},"end":{"line":13,"column":1}},"type":"cond-expr","locations":[{"start":{"line":9,"column":80},"end":{"line":11,"column":1}},{"start":{"line":11,"column":5},"end":{"line":13,"column":1}}],"line":9},"6":{"loc":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":20},"end":{"line":14,"column":24}},{"start":{"line":14,"column":28},"end":{"line":14,"column":45}},{"start":{"line":14,"column":50},"end":{"line":20,"column":1}}],"line":14},"7":{"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},{"start":{"line":15,"column":4},"end":{"line":15,"column":42}}],"line":15},"8":{"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":11}},{"start":{"line":15,"column":15},"end":{"line":15,"column":29}}],"line":15},"9":{"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},{"start":{"line":17,"column":4},"end":{"line":17,"column":141}}],"line":17},"10":{"loc":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},{"start":{"line":17,"column":40},"end":{"line":17,"column":141}}],"line":17},"11":{"loc":{"start":{"line":17,"column":44},"end":{"line":17,"column":107}},"type":"binary-expr","locations":[{"start":{"line":17,"column":44},"end":{"line":17,"column":59}},{"start":{"line":17,"column":63},"end":{"line":17,"column":107}}],"line":17},"12":{"loc":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"type":"binary-expr","locations":[{"start":{"line":21,"column":23},"end":{"line":21,"column":27}},{"start":{"line":21,"column":31},"end":{"line":21,"column":51}},{"start":{"line":21,"column":56},"end":{"line":23,"column":1}}],"line":21},"13":{"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":61}},"type":"cond-expr","locations":[{"start":{"line":22,"column":37},"end":{"line":22,"column":40}},{"start":{"line":22,"column":43},"end":{"line":22,"column":61}}],"line":22},"14":{"loc":{"start":{"line":22,"column":12},"end":{"line":22,"column":33}},"type":"binary-expr","locations":[{"start":{"line":22,"column":12},"end":{"line":22,"column":15}},{"start":{"line":22,"column":19},"end":{"line":22,"column":33}}],"line":22}},"s":{"0":1,"1":9,"2":9,"3":9,"4":3,"5":0,"6":0,"7":0,"8":1,"9":1,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":1,"17":51,"18":9,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1},"f":{"0":9,"1":3,"2":0,"3":1,"4":0,"5":1,"6":1},"b":{"0":[1,1,1],"1":[1,0],"2":[9,0],"3":[0,0],"4":[1,1,1],"5":[1,0],"6":[1,1,1],"7":[0,1],"8":[1,1],"9":[1,0],"10":[9,42],"11":[51,51],"12":[1,1,1],"13":[1,0],"14":[1,1]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/schemaModels/user.model.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/schemaModels/user.model.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,mDAAqC;AAErC,6DAAqC;AAMrC,MAAM,UAAU,GAAG,IAAI,QAAQ,CAAC,MAAM,CAClC;IACI,GAAG,EAAE;QACD,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,IAAI;KACb;IACD,SAAS,EAAE;QACP,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,IAAI;KACb;IACD,QAAQ,EAAE;QACN,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,IAAI;KACb;IACD,SAAS,EAAE;QACP,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,IAAI;KACb;IACD,QAAQ,EAAE;QACN,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,IAAI;KACb;IACD,KAAK,EAAE;QACH,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;QACd,IAAI,EAAE,IAAI;QACV,MAAM,EAAE,IAAI;KACf;IACD,IAAI,EAAE;QACF,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,IAAI;KACb;IACD,WAAW,EAAE;QACT,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QACpC,GAAG,EAAE,gBAAM,CAAC,SAAS;KACxB;IACD,YAAY,EAAE;QACV,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,IAAI;KACb;IACD,SAAS,EAAE;QACP,IAAI,EAAE,MAAM;KACf;IACD,QAAQ,EAAE;QACN,IAAI,EAAE,OAAO;QACb,OAAO,EAAE,KAAK;QACd,KAAK,EAAE,IAAI;KACd;CACJ,EACD,EAAC,UAAU,EAAE,IAAI,EAAC,CACrB,CAAC;AAEF,kBAAe,QAAQ,CAAC,KAAK,CAAe,gBAAM,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC","sourcesContent":["import * as mongoose from \"mongoose\";\nimport {Document} from \"mongoose\";\nimport DBUtil from \"../utill/dBUtil\";\nimport UserModel from \"../models/userModel\";\n\nexport interface UserDocument extends UserModel, Document {\n}\n\nconst userSchema = new mongoose.Schema(\n    {\n        uid: {\n            type: String,\n            trim: true,\n        },\n        firstName: {\n            type: String,\n            trim: true,\n        },\n        lastName: {\n            type: String,\n            trim: true,\n        },\n        longitude: {\n            type: String,\n            trim: true,\n        },\n        latitude: {\n            type: String,\n            trim: true,\n        },\n        email: {\n            type: String,\n            required: true,\n            trim: true,\n            unique: true,\n        },\n        role: {\n            type: String,\n            trim: true,\n        },\n        warehouseId: {\n            type: mongoose.Schema.Types.ObjectId,\n            ref: DBUtil.WAREHOUSE,\n        },\n        profileImage: {\n            type: String,\n            trim: true,\n        },\n        telephone: {\n            type: String,\n        },\n        archived: {\n            type: Boolean,\n            default: false,\n            index: true,\n        },\n    },\n    {timestamps: true}\n);\n\nexport default mongoose.model<UserDocument>(DBUtil.USER, userSchema);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"747a1897d71fb5d8d7feadf86fdf59c372955342","contentHash":"6f0ed055b98d7aa6d0335c115854daaa54dbfe171f4965f3c58153f35afecdc0"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\dao\\leaveDAO.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\dao\\leaveDAO.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":34}},"4":{"start":{"line":7,"column":22},"end":{"line":7,"column":77}},"5":{"start":{"line":8,"column":14},"end":{"line":8,"column":59}},"6":{"start":{"line":9,"column":22},"end":{"line":9,"column":70}},"7":{"start":{"line":10,"column":21},"end":{"line":10,"column":28}},"8":{"start":{"line":13,"column":8},"end":{"line":13,"column":37}},"9":{"start":{"line":16,"column":28},"end":{"line":16,"column":170}},"10":{"start":{"line":17,"column":8},"end":{"line":17,"column":59}},"11":{"start":{"line":20,"column":28},"end":{"line":20,"column":164}},"12":{"start":{"line":21,"column":8},"end":{"line":21,"column":59}},"13":{"start":{"line":24,"column":8},"end":{"line":24,"column":80}},"14":{"start":{"line":27,"column":0},"end":{"line":27,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":18},"end":{"line":14,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":29},"end":{"line":18,"column":5}},"line":15},"3":{"name":"(anonymous_3)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":51},"end":{"line":22,"column":5}},"line":19},"4":{"name":"(anonymous_4)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":45},"end":{"line":25,"column":5}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":2,"10":2,"11":0,"12":0,"13":1,"14":1},"f":{"0":3,"1":1,"2":2,"3":0,"4":1},"b":{"0":[1,1,1],"1":[3,0],"2":[3,3]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/dao/leaveDAO.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/dao/leaveDAO.ts"],"names":[],"mappings":";;;;;AAAA,mCAAoC;AACpC,8EAAgD;AAChD,4DAAoC;AACpC,uEAA+C;AAG/C,MAAM,EAAE,QAAQ,EAAE,GAAG,OAAO,CAAC;AAE7B,MAAqB,QAAS,SAAQ,aAAG;IACvC;QACE,KAAK,CAAC,qBAAK,CAAC,CAAC;IACf,CAAC;IAEM,KAAK,CAAC,MAAM,CACjB,UAA+B;QAE/B,MAAM,WAAW,GAAG,IAAI,qBAAW,CACjC,UAAU,CAAC,KAAK,EAChB,CAAC,UAAU,CAAC,EACZ,CAAC,QAAQ,CAAC,EACV,UAAU,CAAC,MAAM,EACjB,UAAU,CAAC,MAAM,EACjB,UAAU,CAAC,IAAI,EACf,UAAU,CAAC,KAAK,CACjB,CAAC;QAEF,OAAO,WAAW,CAAC,QAAQ,CAAC,qBAAK,CAAC,CAAC;IACrC,CAAC;IAEM,KAAK,CAAC,wBAAwB,CACnC,UAA+B,EAC/B,EAAU;QAEV,MAAM,WAAW,GAAG,IAAI,qBAAW,CACjC,UAAU,CAAC,KAAK,EAChB,CAAC,UAAU,CAAC,EACZ,CAAC,EAAE,CAAC,EACJ,UAAU,CAAC,MAAM,EACjB,aAAa,EAAE,EAAE,EACjB,UAAU,CAAC,IAAI,EACf,UAAU,CAAC,KAAK,CACjB,CAAC;QAEF,OAAO,WAAW,CAAC,QAAQ,CAAC,qBAAK,CAAC,CAAC;IACrC,CAAC;IAEM,KAAK,CAAC,WAAW,CACtB,OAAe,EACf,YAAiC;QAEjC,MAAM,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,IAAI,QAAQ,CAAC,OAAO,CAAC,EAAE,YAAY,CAAC,CAAC;IAC1E,CAAC;CACF;AA5CD,2BA4CC","sourcesContent":["import mongodb = require(\"mongodb\");\nimport Leave from \"../schemaModels/leave.model\";\nimport Dao from \"../interfaces/dao\";\nimport QueryHelper from \"../utill/QueryHelper\";\nimport LeaveModel from \"../models/leaveModel\";\n\nconst { ObjectID } = mongodb;\n\nexport default class LeaveDAO extends Dao {\n  constructor() {\n    super(Leave);\n  }\n\n  public async getAll(\n    filterData: Record<string, any>\n  ): Promise<Record<string, any>> {\n    const queryHelper = new QueryHelper(\n      filterData.query,\n      [\"approved\"],\n      [\"userId\"],\n      filterData.sortBy,\n      filterData.filter,\n      filterData.page,\n      filterData.limit\n    );\n\n    return queryHelper.generate(Leave);\n  }\n\n  public async getAllFromOneSalesPerson(\n    filterData: Record<string, any>,\n    id: string\n  ): Promise<Record<string, any>> {\n    const queryHelper = new QueryHelper(\n      filterData.query,\n      [\"approved\"],\n      [\"\"],\n      filterData.sortBy,\n      `userId eq ${id}`,\n      filterData.page,\n      filterData.limit\n    );\n\n    return queryHelper.generate(Leave);\n  }\n\n  public async updateLeave(\n    leaveId: string,\n    leaveDetails: Partial<LeaveModel>\n  ): Promise<void> {\n    await this.model.findByIdAndUpdate(new ObjectID(leaveId), leaveDetails);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5d6e536f4d0ade4ccde111d04d73ba7feb68aacd","contentHash":"f68bf133e2f097d503b5b18f2a1020b36d53185dff027385ba00b620fcb45b1d"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\schemaModels\\leave.model.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\schemaModels\\leave.model.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":72}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":21}},"11":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"13":{"start":{"line":15,"column":31},"end":{"line":15,"column":42}},"14":{"start":{"line":16,"column":17},"end":{"line":16,"column":19}},"15":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"16":{"start":{"line":17,"column":21},"end":{"line":17,"column":141}},"17":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"18":{"start":{"line":17,"column":109},"end":{"line":17,"column":141}},"19":{"start":{"line":18,"column":4},"end":{"line":18,"column":36}},"20":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"21":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":62}},"23":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"24":{"start":{"line":25,"column":17},"end":{"line":25,"column":50}},"25":{"start":{"line":26,"column":17},"end":{"line":26,"column":60}},"26":{"start":{"line":27,"column":20},"end":{"line":50,"column":24}},"27":{"start":{"line":51,"column":0},"end":{"line":51,"column":70}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":80},"end":{"line":9,"column":81}},"loc":{"start":{"line":9,"column":95},"end":{"line":11,"column":1}},"line":9},"4":{"name":"(anonymous_4)","decl":{"start":{"line":11,"column":5},"end":{"line":11,"column":6}},"loc":{"start":{"line":11,"column":20},"end":{"line":13,"column":1}},"line":11},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":50},"end":{"line":14,"column":51}},"loc":{"start":{"line":14,"column":65},"end":{"line":20,"column":1}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":21,"column":56},"end":{"line":21,"column":57}},"loc":{"start":{"line":21,"column":71},"end":{"line":23,"column":1}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"type":"binary-expr","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":30}},{"start":{"line":9,"column":34},"end":{"line":9,"column":57}},{"start":{"line":9,"column":63},"end":{"line":13,"column":1}}],"line":9},"5":{"loc":{"start":{"line":9,"column":63},"end":{"line":13,"column":1}},"type":"cond-expr","locations":[{"start":{"line":9,"column":80},"end":{"line":11,"column":1}},{"start":{"line":11,"column":5},"end":{"line":13,"column":1}}],"line":9},"6":{"loc":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":20},"end":{"line":14,"column":24}},{"start":{"line":14,"column":28},"end":{"line":14,"column":45}},{"start":{"line":14,"column":50},"end":{"line":20,"column":1}}],"line":14},"7":{"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},{"start":{"line":15,"column":4},"end":{"line":15,"column":42}}],"line":15},"8":{"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":11}},{"start":{"line":15,"column":15},"end":{"line":15,"column":29}}],"line":15},"9":{"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},{"start":{"line":17,"column":4},"end":{"line":17,"column":141}}],"line":17},"10":{"loc":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},{"start":{"line":17,"column":40},"end":{"line":17,"column":141}}],"line":17},"11":{"loc":{"start":{"line":17,"column":44},"end":{"line":17,"column":107}},"type":"binary-expr","locations":[{"start":{"line":17,"column":44},"end":{"line":17,"column":59}},{"start":{"line":17,"column":63},"end":{"line":17,"column":107}}],"line":17},"12":{"loc":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"type":"binary-expr","locations":[{"start":{"line":21,"column":23},"end":{"line":21,"column":27}},{"start":{"line":21,"column":31},"end":{"line":21,"column":51}},{"start":{"line":21,"column":56},"end":{"line":23,"column":1}}],"line":21},"13":{"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":61}},"type":"cond-expr","locations":[{"start":{"line":22,"column":37},"end":{"line":22,"column":40}},{"start":{"line":22,"column":43},"end":{"line":22,"column":61}}],"line":22},"14":{"loc":{"start":{"line":22,"column":12},"end":{"line":22,"column":33}},"type":"binary-expr","locations":[{"start":{"line":22,"column":12},"end":{"line":22,"column":15}},{"start":{"line":22,"column":19},"end":{"line":22,"column":33}}],"line":22}},"s":{"0":1,"1":9,"2":9,"3":9,"4":3,"5":0,"6":0,"7":0,"8":1,"9":1,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":1,"17":51,"18":9,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1},"f":{"0":9,"1":3,"2":0,"3":1,"4":0,"5":1,"6":1},"b":{"0":[1,1,1],"1":[1,0],"2":[9,0],"3":[0,0],"4":[1,1,1],"5":[1,0],"6":[1,1,1],"7":[0,1],"8":[1,1],"9":[1,0],"10":[9,42],"11":[51,51],"12":[1,1,1],"13":[1,0],"14":[1,1]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/schemaModels/leave.model.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/schemaModels/leave.model.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,mDAAqC;AAErC,6DAAqC;AAKrC,MAAM,WAAW,GAAG,IAAI,QAAQ,CAAC,MAAM,CACrC;IACE,MAAM,EAAE;QACN,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QACpC,GAAG,EAAE,gBAAM,CAAC,IAAI;KACjB;IACD,WAAW,EAAE;QACX,IAAI,EAAE,MAAM;KACb;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,SAAS;KACnB;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,IAAI;KACX;IACD,EAAE,EAAE;QACF,IAAI,EAAE,IAAI;KACX;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,OAAO;QACb,OAAO,EAAE,KAAK;QACd,KAAK,EAAE,IAAI;KACZ;CACF,EACD,EAAE,UAAU,EAAE,IAAI,EAAE,CACrB,CAAC;AAEF,kBAAe,QAAQ,CAAC,KAAK,CAAgB,gBAAM,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC","sourcesContent":["import * as mongoose from \"mongoose\";\nimport { Document } from \"mongoose\";\nimport DBUtil from \"../utill/dBUtil\";\nimport LeaveModel from \"../models/leaveModel\";\n\nexport interface LeaveDocument extends LeaveModel, Document {}\n\nconst leaveSchema = new mongoose.Schema(\n  {\n    userId: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: DBUtil.USER,\n    },\n    description: {\n      type: String,\n    },\n    approved: {\n      type: String,\n      default: \"pending\",\n    },\n    from: {\n      type: Date,\n    },\n    to: {\n      type: Date,\n    },\n    archived: {\n      type: Boolean,\n      default: false,\n      index: true,\n    },\n  },\n  { timestamps: true }\n);\n\nexport default mongoose.model<LeaveDocument>(DBUtil.LEAVE, leaveSchema);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"abb2772a5a105892d6924af27ffd213c70621a97","contentHash":"3f275cce8233378529068534eda06a892cccac397f92448000d4fe3377fca3c5"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\dao\\shopDAO.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\dao\\shopDAO.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":21},"end":{"line":6,"column":75}},"4":{"start":{"line":7,"column":14},"end":{"line":7,"column":59}},"5":{"start":{"line":8,"column":22},"end":{"line":8,"column":70}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":36}},"7":{"start":{"line":14,"column":28},"end":{"line":14,"column":158}},"8":{"start":{"line":15,"column":8},"end":{"line":15,"column":58}},"9":{"start":{"line":18,"column":28},"end":{"line":18,"column":179}},"10":{"start":{"line":19,"column":8},"end":{"line":19,"column":58}},"11":{"start":{"line":22,"column":8},"end":{"line":22,"column":64}},"12":{"start":{"line":25,"column":0},"end":{"line":25,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":18},"end":{"line":12,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":29},"end":{"line":16,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":47},"end":{"line":20,"column":5}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":25},"end":{"line":23,"column":5}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"f":{"0":3,"1":1,"2":0,"3":0,"4":0},"b":{"0":[1,1,1],"1":[3,0],"2":[3,3]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/dao/shopDAO.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/dao/shopDAO.ts"],"names":[],"mappings":";;;;;AAAA,4EAAgE;AAChE,4DAAoC;AACpC,uEAA+C;AAE/C,MAAqB,OAAQ,SAAQ,aAAG;IACtC;QACE,KAAK,CAAC,oBAAI,CAAC,CAAC;IACd,CAAC;IAEM,KAAK,CAAC,MAAM,CACjB,UAA+B;QAE/B,MAAM,WAAW,GAAG,IAAI,qBAAW,CACjC,UAAU,CAAC,KAAK,EAChB,CAAC,MAAM,CAAC,EACR,EAAE,EACF,UAAU,CAAC,MAAM,EACjB,UAAU,CAAC,MAAM,EACjB,UAAU,CAAC,IAAI,EACf,UAAU,CAAC,KAAK,CACjB,CAAC;QACF,OAAO,WAAW,CAAC,QAAQ,CAAC,oBAAI,CAAC,CAAC;IACpC,CAAC;IAEM,KAAK,CAAC,oBAAoB,CAC/B,EAAU,EACV,UAA+B;QAE/B,MAAM,WAAW,GAAG,IAAI,qBAAW,CACjC,UAAU,CAAC,KAAK,EAChB,CAAC,MAAM,CAAC,EACR,EAAE,EACF,UAAU,CAAC,MAAM,EACjB,gBAAgB,EAAE,oBAAoB,EACtC,UAAU,CAAC,IAAI,EACf,UAAU,CAAC,KAAK,CACjB,CAAC;QACF,OAAO,WAAW,CAAC,QAAQ,CAAC,oBAAI,CAAC,CAAC;IACpC,CAAC;IAEM,KAAK,CAAC,UAAU,CAAC,EAAU;QAChC,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;IAC1D,CAAC;CACF;AAvCD,0BAuCC","sourcesContent":["import Shop, { ShopDocument } from \"../schemaModels/shop.model\";\nimport Dao from \"../interfaces/dao\";\nimport QueryHelper from \"../utill/QueryHelper\";\n\nexport default class ShopDAO extends Dao {\n  constructor() {\n    super(Shop);\n  }\n\n  public async getAll(\n    filterData: Record<string, any>\n  ): Promise<Record<string, any>> {\n    const queryHelper = new QueryHelper(\n      filterData.query,\n      [\"name\"],\n      [],\n      filterData.sortBy,\n      filterData.filter,\n      filterData.page,\n      filterData.limit\n    );\n    return queryHelper.generate(Shop);\n  }\n\n  public async getAllWarehouseShops(\n    id: string,\n    filterData: Record<string, any>\n  ): Promise<Record<string, any>> {\n    const queryHelper = new QueryHelper(\n      filterData.query,\n      [\"name\"],\n      [],\n      filterData.sortBy,\n      `warehouse eq ${id},archived eq false`,\n      filterData.page,\n      filterData.limit\n    );\n    return queryHelper.generate(Shop);\n  }\n\n  public async getOneShop(id: string): Promise<ShopDocument> {\n    return this.model.findOne({ _id: id, archived: false });\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"38655179a82aa3d1056710ad7026cf53bfc49157","contentHash":"2c9857350bc299da58b5f0500fa1b2dead852fa6ea92b97dd78d8f39c3679e95"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\schemaModels\\shop.model.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\schemaModels\\shop.model.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":72}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":21}},"11":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"13":{"start":{"line":15,"column":31},"end":{"line":15,"column":42}},"14":{"start":{"line":16,"column":17},"end":{"line":16,"column":19}},"15":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"16":{"start":{"line":17,"column":21},"end":{"line":17,"column":141}},"17":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"18":{"start":{"line":17,"column":109},"end":{"line":17,"column":141}},"19":{"start":{"line":18,"column":4},"end":{"line":18,"column":36}},"20":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"21":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":62}},"23":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"24":{"start":{"line":25,"column":17},"end":{"line":25,"column":50}},"25":{"start":{"line":26,"column":17},"end":{"line":26,"column":60}},"26":{"start":{"line":27,"column":17},"end":{"line":27,"column":50}},"27":{"start":{"line":28,"column":19},"end":{"line":69,"column":2}},"28":{"start":{"line":70,"column":0},"end":{"line":70,"column":68}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":80},"end":{"line":9,"column":81}},"loc":{"start":{"line":9,"column":95},"end":{"line":11,"column":1}},"line":9},"4":{"name":"(anonymous_4)","decl":{"start":{"line":11,"column":5},"end":{"line":11,"column":6}},"loc":{"start":{"line":11,"column":20},"end":{"line":13,"column":1}},"line":11},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":50},"end":{"line":14,"column":51}},"loc":{"start":{"line":14,"column":65},"end":{"line":20,"column":1}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":21,"column":56},"end":{"line":21,"column":57}},"loc":{"start":{"line":21,"column":71},"end":{"line":23,"column":1}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"type":"binary-expr","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":30}},{"start":{"line":9,"column":34},"end":{"line":9,"column":57}},{"start":{"line":9,"column":63},"end":{"line":13,"column":1}}],"line":9},"5":{"loc":{"start":{"line":9,"column":63},"end":{"line":13,"column":1}},"type":"cond-expr","locations":[{"start":{"line":9,"column":80},"end":{"line":11,"column":1}},{"start":{"line":11,"column":5},"end":{"line":13,"column":1}}],"line":9},"6":{"loc":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":20},"end":{"line":14,"column":24}},{"start":{"line":14,"column":28},"end":{"line":14,"column":45}},{"start":{"line":14,"column":50},"end":{"line":20,"column":1}}],"line":14},"7":{"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},{"start":{"line":15,"column":4},"end":{"line":15,"column":42}}],"line":15},"8":{"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":11}},{"start":{"line":15,"column":15},"end":{"line":15,"column":29}}],"line":15},"9":{"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},{"start":{"line":17,"column":4},"end":{"line":17,"column":141}}],"line":17},"10":{"loc":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},{"start":{"line":17,"column":40},"end":{"line":17,"column":141}}],"line":17},"11":{"loc":{"start":{"line":17,"column":44},"end":{"line":17,"column":107}},"type":"binary-expr","locations":[{"start":{"line":17,"column":44},"end":{"line":17,"column":59}},{"start":{"line":17,"column":63},"end":{"line":17,"column":107}}],"line":17},"12":{"loc":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"type":"binary-expr","locations":[{"start":{"line":21,"column":23},"end":{"line":21,"column":27}},{"start":{"line":21,"column":31},"end":{"line":21,"column":51}},{"start":{"line":21,"column":56},"end":{"line":23,"column":1}}],"line":21},"13":{"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":61}},"type":"cond-expr","locations":[{"start":{"line":22,"column":37},"end":{"line":22,"column":40}},{"start":{"line":22,"column":43},"end":{"line":22,"column":61}}],"line":22},"14":{"loc":{"start":{"line":22,"column":12},"end":{"line":22,"column":33}},"type":"binary-expr","locations":[{"start":{"line":22,"column":12},"end":{"line":22,"column":15}},{"start":{"line":22,"column":19},"end":{"line":22,"column":33}}],"line":22}},"s":{"0":1,"1":18,"2":18,"3":18,"4":3,"5":0,"6":0,"7":0,"8":1,"9":2,"10":0,"11":1,"12":2,"13":0,"14":2,"15":2,"16":2,"17":102,"18":18,"19":2,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1},"f":{"0":18,"1":3,"2":0,"3":2,"4":0,"5":2,"6":1},"b":{"0":[1,1,1],"1":[1,0],"2":[18,0],"3":[0,0],"4":[1,1,1],"5":[1,0],"6":[1,1,1],"7":[0,2],"8":[2,2],"9":[2,0],"10":[18,84],"11":[102,102],"12":[1,1,1],"13":[1,0],"14":[1,1]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/schemaModels/shop.model.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/schemaModels/shop.model.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,mDAAqC;AAErC,6DAAqC;AAErC,mDAAqC;AAIrC,MAAM,UAAU,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;IACrC,IAAI,EAAE;QACJ,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,IAAI;KACX;IACD,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;KACb;IACD,SAAS,EAAE;QACT,IAAI,EAAE,MAAM;KACb;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,IAAI;KACX;IACD,SAAS,EAAE;QACT,IAAI,EAAE,MAAM;KACb;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,MAAM;KACb;IACD,SAAS,EAAE;QACT,IAAI,EAAE,MAAM;KACb;IACD,OAAO,EAAE;QACP,IAAI,EAAE,MAAM;KACb;IACD,OAAO,EAAE;QACP,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,CAAC;KACX;IACD,SAAS,EAAE;QACT,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QACpC,IAAI,EAAE,IAAI;QACV,GAAG,EAAE,gBAAM,CAAC,SAAS;KACtB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,OAAO;QACb,OAAO,EAAE,KAAK;QACd,KAAK,EAAE,IAAI;KACZ;CACF,CAAC,CAAC;AAEH,kBAAe,QAAQ,CAAC,KAAK,CAAe,gBAAM,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC","sourcesContent":["import * as mongoose from \"mongoose\";\nimport { Document } from \"mongoose\";\nimport DBUtil from \"../utill/dBUtil\";\nimport ShopModel from \"../models/shopModel\";\nimport * as Mongoose from \"mongoose\";\n\nexport interface ShopDocument extends ShopModel, Document {}\n\nconst shopSchema = new mongoose.Schema({\n  name: {\n    type: String,\n    trim: true,\n  },\n  email: {\n    type: String,\n  },\n  telephone: {\n    type: String,\n  },\n  location: {\n    type: String,\n    trim: true,\n  },\n  longitude: {\n    type: String,\n  },\n  latitude: {\n    type: String,\n  },\n  ownerName: {\n    type: String,\n  },\n  address: {\n    type: String,\n  },\n  balance: {\n    type: Number,\n    default: 0,\n  },\n  warehouse: {\n    type: Mongoose.Schema.Types.ObjectId,\n    trim: true,\n    ref: DBUtil.WAREHOUSE,\n  },\n  archived: {\n    type: Boolean,\n    default: false,\n    index: true,\n  },\n});\n\nexport default mongoose.model<ShopDocument>(DBUtil.SHOP, shopSchema);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6258e8a8d6da1102373c3ac3b5a9e8e540f68f47","contentHash":"c43be774b53329f8968898f68050c999e28ebba385804713a329a80cde649909"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\dao\\warehouseDAO.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\dao\\warehouseDAO.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":34}},"4":{"start":{"line":7,"column":26},"end":{"line":7,"column":85}},"5":{"start":{"line":8,"column":14},"end":{"line":8,"column":59}},"6":{"start":{"line":9,"column":22},"end":{"line":9,"column":70}},"7":{"start":{"line":10,"column":21},"end":{"line":10,"column":28}},"8":{"start":{"line":13,"column":8},"end":{"line":13,"column":41}},"9":{"start":{"line":16,"column":28},"end":{"line":16,"column":186}},"10":{"start":{"line":17,"column":8},"end":{"line":17,"column":63}},"11":{"start":{"line":20,"column":8},"end":{"line":23,"column":61}},"12":{"start":{"line":26,"column":8},"end":{"line":28,"column":11}},"13":{"start":{"line":31,"column":8},"end":{"line":33,"column":11}},"14":{"start":{"line":36,"column":8},"end":{"line":38,"column":11}},"15":{"start":{"line":41,"column":23},"end":{"line":48,"column":36}},"16":{"start":{"line":49,"column":8},"end":{"line":49,"column":22}},"17":{"start":{"line":52,"column":23},"end":{"line":52,"column":71}},"18":{"start":{"line":53,"column":8},"end":{"line":53,"column":22}},"19":{"start":{"line":56,"column":0},"end":{"line":56,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":18},"end":{"line":14,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":29},"end":{"line":18,"column":5}},"line":15},"3":{"name":"(anonymous_3)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":30},"end":{"line":24,"column":5}},"line":19},"4":{"name":"(anonymous_4)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":48},"end":{"line":29,"column":5}},"line":25},"5":{"name":"(anonymous_5)","decl":{"start":{"line":30,"column":4},"end":{"line":30,"column":5}},"loc":{"start":{"line":30,"column":61},"end":{"line":34,"column":5}},"line":30},"6":{"name":"(anonymous_6)","decl":{"start":{"line":35,"column":4},"end":{"line":35,"column":5}},"loc":{"start":{"line":35,"column":55},"end":{"line":39,"column":5}},"line":35},"7":{"name":"(anonymous_7)","decl":{"start":{"line":40,"column":4},"end":{"line":40,"column":5}},"loc":{"start":{"line":40,"column":50},"end":{"line":50,"column":5}},"line":40},"8":{"name":"(anonymous_8)","decl":{"start":{"line":51,"column":4},"end":{"line":51,"column":5}},"loc":{"start":{"line":51,"column":40},"end":{"line":54,"column":5}},"line":51}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":3,"9":1,"10":1,"11":4,"12":1,"13":3,"14":2,"15":1,"16":1,"17":0,"18":0,"19":1},"f":{"0":3,"1":3,"2":1,"3":4,"4":1,"5":3,"6":2,"7":1,"8":0},"b":{"0":[1,1,1],"1":[3,0],"2":[3,3]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/dao/warehouseDAO.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/dao/warehouseDAO.ts"],"names":[],"mappings":";;;;;AAAA,mCAAoC;AACpC,sFAA+E;AAC/E,4DAAoC;AACpC,uEAA+C;AAG/C,MAAM,EAAE,QAAQ,EAAE,GAAG,OAAO,CAAC;AAE7B,MAAqB,YAAa,SAAQ,aAAG;IAC3C;QACE,KAAK,CAAC,yBAAS,CAAC,CAAC;IACnB,CAAC;IAEM,KAAK,CAAC,MAAM,CACjB,UAA+B;QAE/B,MAAM,WAAW,GAAG,IAAI,qBAAW,CACjC,UAAU,CAAC,KAAK,EAChB,CAAC,MAAM,CAAC,EACR,CAAC,WAAW,EAAE,eAAe,CAAC,EAC9B,UAAU,CAAC,MAAM,EACjB,UAAU,CAAC,MAAM,EACjB,UAAU,CAAC,IAAI,EACf,UAAU,CAAC,KAAK,CACjB,CAAC;QAEF,OAAO,WAAW,CAAC,QAAQ,CAAC,yBAAS,CAAC,CAAC;IACzC,CAAC;IAEM,KAAK,CAAC,eAAe,CAAC,EAAU;QACrC,OAAO,IAAI,CAAC,KAAK;aACd,QAAQ,CAAC,EAAE,CAAC;aACZ,QAAQ,CAAC,WAAW,CAAC;aACrB,QAAQ,CAAC,CAAC,eAAe,EAAE,kBAAkB,CAAC,CAAC,CAAC;IACrD,CAAC;IAEM,KAAK,CAAC,aAAa,CACxB,SAAiB,EACjB,WAAmB;QAEnB,MAAM,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,WAAW,EAAE;YAC9C,SAAS;SACV,CAAC,CAAC;IACL,CAAC;IAEM,KAAK,CAAC,mBAAmB,CAC9B,WAAmB,EACnB,gBAAoC;QAEpC,MAAM,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,IAAI,QAAQ,CAAC,WAAW,CAAC,EAAE;YAC5D,KAAK,EAAE,EAAE,QAAQ,EAAE,gBAAgB,EAAE;SACtC,CAAC,CAAC;IACL,CAAC;IAEM,KAAK,CAAC,sBAAsB,CACjC,WAAmB,EACnB,OAAe;QAEf,MAAM,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,IAAI,QAAQ,CAAC,WAAW,CAAC,EAAE;YAC5D,KAAK,EAAE,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,EAAE;SACjC,CAAC,CAAC;IACL,CAAC;IAEM,KAAK,CAAC,uBAAuB,CAClC,EAAU,EACV,UAA+B;QAE/B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,KAAK;aAC5B,QAAQ,CAAC,EAAE,CAAC;aACZ,QAAQ,CAAC;YACR,IAAI,EAAE,kBAAkB;YACxB,KAAK,EAAE,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,UAAU,CAAC,KAAK,EAAE,QAAQ,EAAE,GAAG,EAAE,EAAE;SAC7D,CAAC;aACD,MAAM,CAAC,UAAU,CAAC;aAClB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QAC3B,OAAO,MAAM,CAAC;IAChB,CAAC;IAEM,KAAK,CAAC,yBAAyB,CACpC,EAAU;QAEV,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QAChE,OAAO,MAAM,CAAC;IAChB,CAAC;CACF;AA5ED,+BA4EC","sourcesContent":["import mongodb = require(\"mongodb\");\nimport Warehouse, { WarehouseDocument } from \"../schemaModels/warehouse.model\";\nimport Dao from \"../interfaces/dao\";\nimport QueryHelper from \"../utill/QueryHelper\";\nimport ProductObjectModel from \"../models/productObjectModel\";\n\nconst { ObjectID } = mongodb;\n\nexport default class WarehouseDAO extends Dao {\n  constructor() {\n    super(Warehouse);\n  }\n\n  public async getAll(\n    filterData: Record<string, any>\n  ): Promise<Record<string, any>> {\n    const queryHelper = new QueryHelper(\n      filterData.query,\n      [\"name\"],\n      [\"managerId\", \"salesPersonId\"],\n      filterData.sortBy,\n      filterData.filter,\n      filterData.page,\n      filterData.limit\n    );\n\n    return queryHelper.generate(Warehouse);\n  }\n\n  public async getOneWarehouse(id: string): Promise<WarehouseDocument> {\n    return this.model\n      .findById(id)\n      .populate(\"managerId\")\n      .populate([\"salespersonId\", \"products.product\"]);\n  }\n\n  public async assignManager(\n    managerId: string,\n    warehouseId: string\n  ): Promise<void> {\n    await this.model.findByIdAndUpdate(warehouseId, {\n      managerId,\n    });\n  }\n\n  public async addWarehouseProduct(\n    warehouseId: string,\n    warehouseProduct: ProductObjectModel\n  ): Promise<void> {\n    await this.model.findByIdAndUpdate(new ObjectID(warehouseId), {\n      $push: { products: warehouseProduct },\n    });\n  }\n\n  public async deleteWarehouseProduct(\n    warehouseId: string,\n    product: string\n  ): Promise<void> {\n    await this.model.findByIdAndUpdate(new ObjectID(warehouseId), {\n      $pull: { products: { product } },\n    });\n  }\n\n  public async getAllWarehouseProducts(\n    id: string,\n    filterData: Record<string, any>\n  ): Promise<Partial<WarehouseDocument>> {\n    const result = await this.model\n      .findById(id)\n      .populate({\n        path: \"products.product\",\n        match: { name: { $regex: filterData.query, $options: \"i\" } },\n      })\n      .select(\"products\")\n      .sort(filterData.sortBy);\n    return result;\n  }\n\n  public async getAllProductsOfWarehouse(\n    id: string\n  ): Promise<Partial<WarehouseDocument>> {\n    const result = await this.model.findById(id).select(\"products\");\n    return result;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e9e27d833decdc355169302892255344c7230f8f","contentHash":"146396a90ab3f957a92f4aa3fa433e6e3958c95dd81fee828d22792970460664"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\schemaModels\\warehouse.model.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\schemaModels\\warehouse.model.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":72}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":21}},"11":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"13":{"start":{"line":15,"column":31},"end":{"line":15,"column":42}},"14":{"start":{"line":16,"column":17},"end":{"line":16,"column":19}},"15":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"16":{"start":{"line":17,"column":21},"end":{"line":17,"column":141}},"17":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"18":{"start":{"line":17,"column":109},"end":{"line":17,"column":141}},"19":{"start":{"line":18,"column":4},"end":{"line":18,"column":36}},"20":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"21":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":62}},"23":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"24":{"start":{"line":25,"column":17},"end":{"line":25,"column":50}},"25":{"start":{"line":26,"column":17},"end":{"line":26,"column":60}},"26":{"start":{"line":27,"column":24},"end":{"line":61,"column":2}},"27":{"start":{"line":62,"column":0},"end":{"line":62,"column":78}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":80},"end":{"line":9,"column":81}},"loc":{"start":{"line":9,"column":95},"end":{"line":11,"column":1}},"line":9},"4":{"name":"(anonymous_4)","decl":{"start":{"line":11,"column":5},"end":{"line":11,"column":6}},"loc":{"start":{"line":11,"column":20},"end":{"line":13,"column":1}},"line":11},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":50},"end":{"line":14,"column":51}},"loc":{"start":{"line":14,"column":65},"end":{"line":20,"column":1}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":21,"column":56},"end":{"line":21,"column":57}},"loc":{"start":{"line":21,"column":71},"end":{"line":23,"column":1}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"type":"binary-expr","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":30}},{"start":{"line":9,"column":34},"end":{"line":9,"column":57}},{"start":{"line":9,"column":63},"end":{"line":13,"column":1}}],"line":9},"5":{"loc":{"start":{"line":9,"column":63},"end":{"line":13,"column":1}},"type":"cond-expr","locations":[{"start":{"line":9,"column":80},"end":{"line":11,"column":1}},{"start":{"line":11,"column":5},"end":{"line":13,"column":1}}],"line":9},"6":{"loc":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":20},"end":{"line":14,"column":24}},{"start":{"line":14,"column":28},"end":{"line":14,"column":45}},{"start":{"line":14,"column":50},"end":{"line":20,"column":1}}],"line":14},"7":{"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},{"start":{"line":15,"column":4},"end":{"line":15,"column":42}}],"line":15},"8":{"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":11}},{"start":{"line":15,"column":15},"end":{"line":15,"column":29}}],"line":15},"9":{"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},{"start":{"line":17,"column":4},"end":{"line":17,"column":141}}],"line":17},"10":{"loc":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},{"start":{"line":17,"column":40},"end":{"line":17,"column":141}}],"line":17},"11":{"loc":{"start":{"line":17,"column":44},"end":{"line":17,"column":107}},"type":"binary-expr","locations":[{"start":{"line":17,"column":44},"end":{"line":17,"column":59}},{"start":{"line":17,"column":63},"end":{"line":17,"column":107}}],"line":17},"12":{"loc":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"type":"binary-expr","locations":[{"start":{"line":21,"column":23},"end":{"line":21,"column":27}},{"start":{"line":21,"column":31},"end":{"line":21,"column":51}},{"start":{"line":21,"column":56},"end":{"line":23,"column":1}}],"line":21},"13":{"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":61}},"type":"cond-expr","locations":[{"start":{"line":22,"column":37},"end":{"line":22,"column":40}},{"start":{"line":22,"column":43},"end":{"line":22,"column":61}}],"line":22},"14":{"loc":{"start":{"line":22,"column":12},"end":{"line":22,"column":33}},"type":"binary-expr","locations":[{"start":{"line":22,"column":12},"end":{"line":22,"column":15}},{"start":{"line":22,"column":19},"end":{"line":22,"column":33}}],"line":22}},"s":{"0":1,"1":9,"2":9,"3":9,"4":4,"5":0,"6":0,"7":0,"8":1,"9":1,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":1,"17":51,"18":9,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1},"f":{"0":9,"1":4,"2":0,"3":1,"4":0,"5":1,"6":1},"b":{"0":[1,1,1],"1":[1,0],"2":[9,0],"3":[0,0],"4":[1,1,1],"5":[1,0],"6":[1,1,1],"7":[0,1],"8":[1,1],"9":[1,0],"10":[9,42],"11":[51,51],"12":[1,1,1],"13":[1,0],"14":[1,1]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/schemaModels/warehouse.model.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/schemaModels/warehouse.model.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,mDAAqC;AAErC,6DAAqC;AAKrC,MAAM,eAAe,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;IAC1C,SAAS,EAAE;QACT,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,IAAI;KACX;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,MAAM;KACb;IACD,QAAQ,EAAE;QACR;YACE,OAAO,EAAE;gBACP,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;gBACpC,GAAG,EAAE,gBAAM,CAAC,OAAO;aACpB;YACD,QAAQ,EAAE;gBACR,IAAI,EAAE,MAAM;aACb;SACF;KACF;IACD,SAAS,EAAE;QACT,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QACpC,GAAG,EAAE,gBAAM,CAAC,IAAI;KACjB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,MAAM;KACb;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,MAAM;KACb;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,OAAO;QACb,OAAO,EAAE,KAAK;QACd,KAAK,EAAE,IAAI;KACZ;CACF,CAAC,CAAC;AAEH,kBAAe,QAAQ,CAAC,KAAK,CAC3B,gBAAM,CAAC,SAAS,EAChB,eAAe,CAChB,CAAC","sourcesContent":["import * as mongoose from \"mongoose\";\nimport { Document } from \"mongoose\";\nimport DBUtil from \"../utill/dBUtil\";\nimport WarehouseModel from \"../models/warehouseModel\";\n\nexport interface WarehouseDocument extends WarehouseModel, Document {}\n\nconst wareHouseSchema = new mongoose.Schema({\n  telephone: {\n    type: String,\n    trim: true,\n  },\n  name: {\n    type: String,\n  },\n  products: [\n    {\n      product: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: DBUtil.PRODUCT,\n      },\n      quantity: {\n        type: Number,\n      },\n    },\n  ],\n  managerId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: DBUtil.USER,\n  },\n  district: {\n    type: String,\n  },\n  town: {\n    type: String,\n  },\n  archived: {\n    type: Boolean,\n    default: false,\n    index: true,\n  },\n});\n\nexport default mongoose.model<WarehouseDocument>(\n  DBUtil.WAREHOUSE,\n  wareHouseSchema\n);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"591a39d74c606cfa310fdc6f1c976c0ce9318651","contentHash":"b129b832722ef8996b24eaa95211b971bb5499701d9384bc789a80162125ba6c"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\dao\\salespersonShopsDAO.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\dao\\salespersonShopsDAO.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":32},"end":{"line":6,"column":97}},"4":{"start":{"line":7,"column":14},"end":{"line":7,"column":59}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":47}},"6":{"start":{"line":13,"column":8},"end":{"line":17,"column":31}},"7":{"start":{"line":20,"column":8},"end":{"line":20,"column":65}},"8":{"start":{"line":23,"column":0},"end":{"line":23,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":18},"end":{"line":11,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":37},"end":{"line":18,"column":5}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":39},"end":{"line":21,"column":5}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1},"f":{"0":2,"1":1,"2":1,"3":0},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/dao/salespersonShopsDAO.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/dao/salespersonShopsDAO.ts"],"names":[],"mappings":";;;;;AAAA,kGAE+C;AAC/C,4DAAoC;AAEpC,MAAqB,mBAAoB,SAAQ,aAAG;IAClD;QACE,KAAK,CAAC,+BAAe,CAAC,CAAC;IACzB,CAAC;IAEM,KAAK,CAAC,sBAAsB,CACjC,EAAU;QAEV,OAAO,IAAI,CAAC,KAAK;aACd,OAAO,CAAC;YACP,aAAa,EAAE,EAAE;SAClB,CAAC;aACD,QAAQ,CAAC,OAAO,CAAC,CAAC;IACvB,CAAC;IAEM,KAAK,CAAC,wBAAwB,CAAC,EAAU;QAC9C,MAAM,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,EAAE,aAAa,EAAE,EAAE,EAAE,CAAC,CAAC;IAC3D,CAAC;CACF;AAlBD,sCAkBC","sourcesContent":["import SalespersonShop, {\n  SalespersonShopDocument,\n} from \"../schemaModels/salespersonShop.model\";\nimport Dao from \"../interfaces/dao\";\n\nexport default class SalespersonShopsDAO extends Dao {\n  constructor() {\n    super(SalespersonShop);\n  }\n\n  public async getOneSalespersonShops(\n    id: string\n  ): Promise<SalespersonShopDocument> {\n    return this.model\n      .findOne({\n        salespersonId: id,\n      })\n      .populate(\"shops\");\n  }\n\n  public async deleteShopsOfSalesperson(id: string): Promise<void> {\n    await this.model.findOneAndDelete({ salespersonId: id });\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"272f3076f6c8080014c2abbe15a6f5c1f0cee043","contentHash":"9cda4cc8d85c149ef9145239fa439e4000c12131a5737e965801231534f0de62"},"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\schemaModels\\salespersonShop.model.ts":{"path":"D:\\Academic\\Sem 5\\SEP\\smart-pos-backend\\src\\schemaModels\\salespersonShop.model.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":72}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":21}},"11":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"13":{"start":{"line":15,"column":31},"end":{"line":15,"column":42}},"14":{"start":{"line":16,"column":17},"end":{"line":16,"column":19}},"15":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"16":{"start":{"line":17,"column":21},"end":{"line":17,"column":141}},"17":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"18":{"start":{"line":17,"column":109},"end":{"line":17,"column":141}},"19":{"start":{"line":18,"column":4},"end":{"line":18,"column":36}},"20":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"21":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":62}},"23":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"24":{"start":{"line":25,"column":17},"end":{"line":25,"column":50}},"25":{"start":{"line":26,"column":17},"end":{"line":26,"column":60}},"26":{"start":{"line":27,"column":30},"end":{"line":42,"column":2}},"27":{"start":{"line":43,"column":0},"end":{"line":43,"column":90}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":80},"end":{"line":9,"column":81}},"loc":{"start":{"line":9,"column":95},"end":{"line":11,"column":1}},"line":9},"4":{"name":"(anonymous_4)","decl":{"start":{"line":11,"column":5},"end":{"line":11,"column":6}},"loc":{"start":{"line":11,"column":20},"end":{"line":13,"column":1}},"line":11},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":50},"end":{"line":14,"column":51}},"loc":{"start":{"line":14,"column":65},"end":{"line":20,"column":1}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":21,"column":56},"end":{"line":21,"column":57}},"loc":{"start":{"line":21,"column":71},"end":{"line":23,"column":1}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"type":"binary-expr","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":30}},{"start":{"line":9,"column":34},"end":{"line":9,"column":57}},{"start":{"line":9,"column":63},"end":{"line":13,"column":1}}],"line":9},"5":{"loc":{"start":{"line":9,"column":63},"end":{"line":13,"column":1}},"type":"cond-expr","locations":[{"start":{"line":9,"column":80},"end":{"line":11,"column":1}},{"start":{"line":11,"column":5},"end":{"line":13,"column":1}}],"line":9},"6":{"loc":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":20},"end":{"line":14,"column":24}},{"start":{"line":14,"column":28},"end":{"line":14,"column":45}},{"start":{"line":14,"column":50},"end":{"line":20,"column":1}}],"line":14},"7":{"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},{"start":{"line":15,"column":4},"end":{"line":15,"column":42}}],"line":15},"8":{"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":11}},{"start":{"line":15,"column":15},"end":{"line":15,"column":29}}],"line":15},"9":{"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},{"start":{"line":17,"column":4},"end":{"line":17,"column":141}}],"line":17},"10":{"loc":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},{"start":{"line":17,"column":40},"end":{"line":17,"column":141}}],"line":17},"11":{"loc":{"start":{"line":17,"column":44},"end":{"line":17,"column":107}},"type":"binary-expr","locations":[{"start":{"line":17,"column":44},"end":{"line":17,"column":59}},{"start":{"line":17,"column":63},"end":{"line":17,"column":107}}],"line":17},"12":{"loc":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"type":"binary-expr","locations":[{"start":{"line":21,"column":23},"end":{"line":21,"column":27}},{"start":{"line":21,"column":31},"end":{"line":21,"column":51}},{"start":{"line":21,"column":56},"end":{"line":23,"column":1}}],"line":21},"13":{"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":61}},"type":"cond-expr","locations":[{"start":{"line":22,"column":37},"end":{"line":22,"column":40}},{"start":{"line":22,"column":43},"end":{"line":22,"column":61}}],"line":22},"14":{"loc":{"start":{"line":22,"column":12},"end":{"line":22,"column":33}},"type":"binary-expr","locations":[{"start":{"line":22,"column":12},"end":{"line":22,"column":15}},{"start":{"line":22,"column":19},"end":{"line":22,"column":33}}],"line":22}},"s":{"0":1,"1":9,"2":9,"3":9,"4":4,"5":0,"6":0,"7":0,"8":1,"9":1,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":1,"17":51,"18":9,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1},"f":{"0":9,"1":4,"2":0,"3":1,"4":0,"5":1,"6":1},"b":{"0":[1,1,1],"1":[1,0],"2":[9,0],"3":[0,0],"4":[1,1,1],"5":[1,0],"6":[1,1,1],"7":[0,1],"8":[1,1],"9":[1,0],"10":[9,42],"11":[51,51],"12":[1,1,1],"13":[1,0],"14":[1,1]},"inputSourceMap":{"version":3,"file":"D:/Academic/Sem 5/SEP/smart-pos-backend/src/schemaModels/salespersonShop.model.ts","sources":["D:/Academic/Sem 5/SEP/smart-pos-backend/src/schemaModels/salespersonShop.model.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,mDAAqC;AAErC,6DAAqC;AAKrC,MAAM,qBAAqB,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;IAC9C,aAAa,EAAE;QACX,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QACpC,GAAG,EAAE,gBAAM,CAAC,IAAI;QAChB,MAAM,EAAE,IAAI;KACf;IACD,KAAK,EAAE;QACH,IAAI,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;QACtC,GAAG,EAAE,gBAAM,CAAC,IAAI;KACnB;IACD,QAAQ,EAAE;QACN,IAAI,EAAE,OAAO;QACb,OAAO,EAAE,KAAK;QACd,KAAK,EAAE,IAAI;KACd;CACJ,CAAC,CAAC;AAEH,kBAAe,QAAQ,CAAC,KAAK,CACzB,gBAAM,CAAC,eAAe,EACtB,qBAAqB,CACxB,CAAC","sourcesContent":["import * as mongoose from \"mongoose\";\nimport { Document } from \"mongoose\";\nimport DBUtil from \"../utill/dBUtil\";\nimport SalespersonShopModel from \"../models/salespersonShopModel\";\n\nexport interface SalespersonShopDocument extends SalespersonShopModel, Document {}\n\nconst salespersonShopSchema = new mongoose.Schema({\n    salespersonId: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: DBUtil.USER,\n        unique: true,\n    },\n    shops: {\n        type: [mongoose.Schema.Types.ObjectId],\n        ref: DBUtil.SHOP,\n    },\n    archived: {\n        type: Boolean,\n        default: false,\n        index: true,\n    },\n});\n\nexport default mongoose.model<SalespersonShopDocument>(\n    DBUtil.SALESPERSONSHOP,\n    salespersonShopSchema\n);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ad2f588d76645e99372f7bfd2de7b964829171f2","contentHash":"08b2fae52b6d2dcf57554cf0f6005fd6da999c2cf8b8afb884b109039d82f19d"}}